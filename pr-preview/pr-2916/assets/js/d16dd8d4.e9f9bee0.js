"use strict";(self.webpackChunksauce_docs=self.webpackChunksauce_docs||[]).push([[59224],{32705:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>d,default:()=>x,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var r=n(74848),a=n(28453),i=n(11470),s=n(19365),c=n(86025);const o={id:"configuration",title:"Configuring Backtrace for Unity",sidebar_label:"Configuration",description:"Configure Backtrace for your Unity project."},d=void 0,l={id:"error-reporting/platform-integrations/unity/configuration",title:"Configuring Backtrace for Unity",description:"Configure Backtrace for your Unity project.",source:"@site/docs/error-reporting/platform-integrations/unity/configuration.md",sourceDirName:"error-reporting/platform-integrations/unity",slug:"/error-reporting/platform-integrations/unity/configuration",permalink:"/sauce-docs/pr-preview/pr-2916/error-reporting/platform-integrations/unity/configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/saucelabs/sauce-docs/edit/main/docs/error-reporting/platform-integrations/unity/configuration.md",tags:[],version:"current",lastUpdatedBy:"kristofmuhi",lastUpdatedAt:172492915e4,frontMatter:{id:"configuration",title:"Configuring Backtrace for Unity",sidebar_label:"Configuration",description:"Configure Backtrace for your Unity project."},sidebar:"backtrace",previous:{title:"Setup",permalink:"/sauce-docs/pr-preview/pr-2916/error-reporting/platform-integrations/unity/setup"},next:{title:"Attributes",permalink:"/sauce-docs/pr-preview/pr-2916/error-reporting/platform-integrations/unity/attributes"}},h={},u=[{value:"Usage",id:"usage",level:2},{value:"Configuration Settings",id:"configuration-settings",level:2},{value:"Backtrace Client",id:"backtrace-client",level:3},{value:"Backtrace Database",id:"backtrace-database",level:3},{value:"Enable Stack Traces for WebGL",id:"enable-stack-traces-for-webgl",level:4},{value:"Advanced Client Settings",id:"advanced-client-settings",level:3},{value:"Crash Free Metrics Reporting",id:"crash-free-metrics-reporting",level:3},{value:"Capturing Native Crashes",id:"capturing-native-crashes",level:3},{value:"ProGuard Rules",id:"proguard-rules",level:4},{value:"Uploading Debug Symbols",id:"uploading-debug-symbols",level:4},{value:"Uploading Debug Symbols",id:"uploading-debug-symbols-1",level:4},{value:"Logging Breadcrumbs",id:"logging-breadcrumbs",level:3},{value:"Advanced Configuration",id:"advanced-configuration",level:2},{value:"<code>backtraceApi</code>",id:"backtraceapi",level:3},{value:"<code>backtraceClient</code>",id:"backtraceclient",level:3},{value:"<code>backtraceClient.Initialize</code>",id:"backtraceclientinitialize",level:3},{value:"<code>backtraceClient.Instance.Metrics.AddSummedEvent</code>",id:"backtraceclientinstancemetricsaddsummedevent",level:3},{value:"<code>backtraceClient.Refresh</code>",id:"backtraceclientrefresh",level:3},{value:"<code>backtraceClient.Send</code>",id:"backtraceclientsend",level:3},{value:"Custom Event Handlers",id:"custom-event-handlers",level:4},{value:"<code>backtraceClient.SkipReport</code>",id:"backtraceclientskipreport",level:3},{value:"<code>backtraceData</code>",id:"backtracedata",level:3},{value:"<code>backtraceDatabase</code>",id:"backtracedatabase",level:3},{value:"<code>backtraceDatabase.Clear</code>",id:"backtracedatabaseclear",level:3},{value:"<code>backtraceDatabase.Count</code>",id:"backtracedatabasecount",level:3},{value:"<code>backtraceDatabase.Delete</code>",id:"backtracedatabasedelete",level:3},{value:"<code>backtraceDatabase.Flush</code>",id:"backtracedatabaseflush",level:3},{value:"<code>backtraceDatabase.Send</code>",id:"backtracedatabasesend",level:3},{value:"<code>backtraceReport</code>",id:"backtracereport",level:3},{value:"Attributes and Attachment Paths",id:"attributes-and-attachment-paths",level:4},{value:"Fingerprint and Factor",id:"fingerprint-and-factor",level:4},{value:"<code>reportWatcher</code>",id:"reportwatcher",level:3},{value:"Data Management",id:"data-management",level:2},{value:"<code>backtraceClient.BeforeSend</code>",id:"backtraceclientbeforesend",level:3},{value:"<code>Annotation.EnvironmentVariables</code>",id:"annotationenvironmentvariables",level:3}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Configure Backtrace for your Unity project. This page defines the configuration settings, classes, and methods available with the Backtrace Unity SDK."}),"\n","\n",(0,r.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'//Read from manager BacktraceClient instance\n\nvar backtraceClient = GameObject.Find("_Manager").GetComponent<BacktraceClient>();\ntry\n{\n   //throw exception here\n}\ncatch(Exception exception)\n{\n   var report = new BacktraceReport(exception);\n   backtraceClient.Send(report);\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["After you've ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/setup",children:"setup"})," the Backtrace client and database configuration, you can retrieve database and client instances by using ",(0,r.jsx)(t.code,{children:"GameObject"}),", then use a try/catch statement to throw an exception and start sending reports."]}),"\n",(0,r.jsx)(t.h2,{id:"configuration-settings",children:"Configuration Settings"}),"\n",(0,r.jsxs)(t.p,{children:["The configuration settings for the Backtrace client and database are defined by the ",(0,r.jsx)(t.strong,{children:"Backtrace Configuration"})," file in the ",(0,r.jsx)(t.strong,{children:"Assets"})," folder of your Unity project. It's recommended to change the configuration settings for the Backtrace client and database in the ",(0,r.jsx)(t.strong,{children:"Unity Inspector"}),":"]}),"\n",(0,r.jsx)("img",{src:(0,c.Ay)("img/error-reporting/unity/unity-backtrace-client-config.png"),alt:"Customizing Backtrace client configuration options in the Unity Inspector"}),"\n",(0,r.jsx)(t.p,{children:"Alternatively, you can also specify the configuration settings in your C# project."}),"\n",(0,r.jsx)(t.h3,{id:"backtrace-client",children:"Backtrace Client"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Setting"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Server Address"}),(0,r.jsxs)(t.td,{children:["The ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/setup/#configure-the-server-address",children:"server address"})," (submission URL) is required to submit exceptions from your Unity project to your Backtrace instance. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"The Server Address must be in the following format: ",(0,r.jsx)(t.code,{children:"https://submit.backtrace.io/{subdomain}/{submission-token}/json"}),"."]}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Handle unhandled exceptions"}),(0,r.jsx)(t.td,{children:"Handles unhandled exceptions that are not captured by try/catch statements."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Reports per minute"}),(0,r.jsxs)(t.td,{children:["Limits the number of reports the client will send per minute. ",(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"If set to '0', there is no limit."})," ",(0,r.jsx)("li",{children:"If set to a value greater than '0' and the value is reached, the client will not send any reports until the next minute."})]})," The ",(0,r.jsx)(t.code,{children:"BacktraceClient.Send"})," and ",(0,r.jsx)(t.code,{children:"BacktraceClient.SendAsync"})," methods will return 'false'."]}),(0,r.jsx)(t.td,{children:"Number"}),(0,r.jsx)(t.td,{children:"50"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Ignore SSL validation"}),(0,r.jsx)(t.td,{children:"By default, Unity validates SSL certificates. If you don't want to validate SSL certificates, set the value to 'true'."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"backtrace-database",children:"Backtrace Database"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Setting"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Enable Database"}),(0,r.jsx)(t.td,{children:"Enables an offline database to store reports locally. This is a requirement for native crash reports to be sent."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Backtrace database path"}),(0,r.jsxs)(t.td,{children:["Specifies the absolute path that the local database will use to store reports for your game or app. Note that the Backtrace database will remove all existing files in the database directory when the client is first initialized. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"You can use interpolated strings such as ",(0,r.jsx)(t.code,{children:"${Application.persistentDataPath}/backtrace/database"}),"."]}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Client-Side deduplication"}),(0,r.jsxs)(t.td,{children:["Aggregates duplicated reports. The available options are: ",(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Disable: Duplicated reports are not aggregated."})," ",(0,r.jsx)("li",{children:"Everything: Aggregates by faulting callstack, exception type, and exception message."})," ",(0,r.jsx)("li",{children:"Faulting callstack: Aggregates based on the current stack trace."})," ",(0,r.jsx)("li",{children:"Exception type: Aggregates by stack trace and exception type."})," ",(0,r.jsx)("li",{children:"Exception message: Aggregates by stack trace and exception message."})]})]}),(0,r.jsx)(t.td,{children:"Enum"}),(0,r.jsx)(t.td,{children:"Disable"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Attach Unity Player.log"}),(0,r.jsx)(t.td,{children:"Attaches the Unity player log file to the Backtrace report. Available only for Windows and MacOS."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Auto send mode"}),(0,r.jsxs)(t.td,{children:["Sends reports to the server based on the retry settings described below. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"If the value is set to 'False', you can use the ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/configuration/#backtracedatabaseflush",children:(0,r.jsx)(t.code,{children:"Flush"})})," or ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/configuration/#backtracedatabasesend",children:(0,r.jsx)(t.code,{children:"Send"})})," methods as an alternative."]}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Create database directory"}),(0,r.jsx)(t.td,{children:"Creates the offline database directory if the provided path doesn't exist."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Attach screenshot"}),(0,r.jsx)(t.td,{children:"Generates a screenshot and creates an attachment of the frame when an exception occurs in a game scene."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Maximum number of records"}),(0,r.jsx)(t.td,{children:"The maximum number of reports stored in the offline database. When the limit is reached, the oldest reports are removed. If the value is equal to '0', then no limit is set."}),(0,r.jsx)(t.td,{children:"Number"}),(0,r.jsx)(t.td,{children:"8"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Maximum database size (mb)"}),(0,r.jsxs)(t.td,{children:["The maximum database size in MB. When the limit is reached, the oldest reports are removed. If the value is equal to '0', then no limit is set. ",(0,r.jsx)("br",{})," (Managed reports only)"]}),(0,r.jsx)(t.td,{children:"Number"}),(0,r.jsx)(t.td,{children:"0"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Retry interval"}),(0,r.jsx)(t.td,{children:"The amount of time (in seconds) to wait between retries if the database is unable to send a report."}),(0,r.jsx)(t.td,{children:"Number"}),(0,r.jsx)(t.td,{children:"60"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Maximum retries"}),(0,r.jsx)(t.td,{children:"The maximum number of retries to attempt if the database is unable to send a report."}),(0,r.jsx)(t.td,{children:"Number"}),(0,r.jsx)(t.td,{children:"3"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Retry order (FIFO/LIFO)"}),(0,r.jsxs)(t.td,{children:["The order in which reports are sent to the Backtrace server: ",(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"If you set the value to 'Queue' (FIFO), then the first report into the queue is the first report to leave the queue."})," ",(0,r.jsx)("li",{children:"If you set the value to 'Stack' (LIFO), then the last report into the stack is the last report to leave the stack."})]})]}),(0,r.jsx)(t.td,{children:"Enum"}),(0,r.jsx)(t.td,{children:"Stack"})]})]})]}),"\n",(0,r.jsx)(t.h4,{id:"enable-stack-traces-for-webgl",children:"Enable Stack Traces for WebGL"}),"\n",(0,r.jsxs)(t.p,{children:["To enable stack traces for WebGL, in your Unity project's ",(0,r.jsx)(t.strong,{children:"Player Settings"}),", under ",(0,r.jsx)(t.strong,{children:"Publishing Settings"}),", set ",(0,r.jsx)(t.strong,{children:"Enable Exceptions"})," to 'Full With Stacktrace'."]}),"\n",(0,r.jsx)("img",{src:(0,c.Ay)("img/error-reporting/unity/unity-webgl-player-settings-enable-exceptions.png"),alt:"Player setting in Unity required to enable stack traces for WebGL."}),"\n",(0,r.jsx)(t.h3,{id:"advanced-client-settings",children:"Advanced Client Settings"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Setting"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Use normalized exception message"}),(0,r.jsx)(t.td,{children:"Generates a fingerprint with a normalized exception message if an exception doesn't have a stack trace."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Send unhandled native game crashes on startup"}),(0,r.jsx)(t.td,{children:"Sends native crashes when the game or app starts. Available only for Windows."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Filter reports"}),(0,r.jsxs)(t.td,{children:["Ignores managed error reports based on error type: ",(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Disable: Sends error reports for all error types."}),(0,r.jsx)("li",{children:"Everything: Ignores error reports for all error types."})," ",(0,r.jsx)("li",{children:"Message: Ignores error reports for error messages."})," ",(0,r.jsx)("li",{children:"Handled Exception: Ignores error reports for handled exceptions."})," ",(0,r.jsx)("li",{children:"Unhandled Exception: Ignores error reports for unhandled exceptions."})," ",(0,r.jsx)("li",{children:"Hang: Ignores error reports for ANR (Application not responding) or hang errors. Mobile only."})," ",(0,r.jsx)("li",{children:"Game Error: Ignores error reports for game crashes in the managed environment."})]})]}),(0,r.jsx)(t.td,{children:"Enum"}),(0,r.jsx)(t.td,{children:"Disable"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Collect last n game logs"}),(0,r.jsx)(t.td,{children:"Collects last n number of logs generated in the game."}),(0,r.jsx)(t.td,{children:"Number"}),(0,r.jsx)(t.td,{children:"10"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Enable performance statistics"}),(0,r.jsx)(t.td,{children:"Allows the Backtrace client to measure execution time and include performance information as report attributes."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Destroy client on new scene load"}),(0,r.jsxs)(t.td,{children:["Removes the Backtrace client component when loading a new game scene. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{})," By default, the Backtrace client will be available in every game scene."]}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Log random sampling rate"}),(0,r.jsxs)(t.td,{children:["The rate at which random sample reports for DebugLog.error messages are sent to Backtrace.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"By default, 1% of the DebugLog.error messages will be sent to Backtrace. To send all DebugLog.error messages to Backtrace, set the value to '1'."]}),(0,r.jsx)(t.td,{children:"Decimal"}),(0,r.jsx)(t.td,{children:"0.01"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Game object depth limit"}),(0,r.jsx)(t.td,{children:"Filters the number of GameObject children in Backtrace reports."}),(0,r.jsx)(t.td,{children:"Number"}),(0,r.jsx)(t.td,{children:"-1"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Disable error reporting integration in editor"}),(0,r.jsx)(t.td,{children:"Ignores errors encountered while the project is running in the Unity Editor and only reports errors encountered in a build."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"crash-free-metrics-reporting",children:"Crash Free Metrics Reporting"}),"\n",(0,r.jsx)(t.p,{children:"Once enabled, unique application launches and unique player identifiers (default: guid) will be submitted to Backtrace so you can get an overview of how many errors, hangs, crashes, and memory problems occur compared to all active users for a given platform, version, and more."}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsx)(t.p,{children:"This functionality is supported on all platforms except WebGL."})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Setting"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Enable crash free metrics reporting"}),(0,r.jsx)(t.td,{children:"Enables metrics such as crash free users and crash free sessions."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Auto send interval in min"}),(0,r.jsxs)(t.td,{children:["Indicates how often crash free metrics are sent to Backtrace. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"By default, session events are sent on application startup, when the game ends, and every 30 minutes while the game is running."]}),(0,r.jsx)(t.td,{children:"Number"}),(0,r.jsx)(t.td,{children:"30"})]})]})]}),"\n",(0,r.jsxs)(t.p,{children:["You can enable crash free metrics at runtime with ",(0,r.jsx)(t.code,{children:"backtraceClient.EnableMetrics()"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["You can also add custom metrics groups and attributes with ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/configuration/#backtraceclientinstancemetricsaddsummedevent",children:(0,r.jsx)(t.code,{children:"backtraceClient.Instance.Metrics.AddSummedEvent"})}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"capturing-native-crashes",children:"Capturing Native Crashes"}),"\n",(0,r.jsxs)(i.A,{children:[(0,r.jsxs)(s.A,{value:"android",label:"Android",default:!0,children:["The Backtrace Unity SDK includes support for capturing native crashes, as well as memory and process information from the underlying Android OS, JNI, and NDK layers, including:",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"system.memory.free"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"system.memory.swap.free"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"system.memory.vmalloc.total"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"sched.cs.involuntary"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"sched.cs.voluntary"})}),"\n"]}),"For more information about other data that is captured, see ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/attributes",children:"Attributes"}),".",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Setting"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Capture native crashes"}),(0,r.jsx)(t.td,{children:'Captures and symbolicates stack traces for native crashes. A crash report is generated, stored locally, and uploaded upon next game start. This requires "Enable Database" to also be true.'}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Capture ANR (Application not responding)"}),(0,r.jsxs)(t.td,{children:["Generates an error report whenever an app hangs for more than 5 seconds. The ",(0,r.jsx)(t.code,{children:"error.type"})," for these reports will be ",(0,r.jsx)(t.code,{children:"Hang"}),"."]}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Send Out of Memory exceptions to Backtrace"}),(0,r.jsxs)(t.td,{children:["Detects low memory conditions. If the app crashes due to a memory condition, a crash report will be submitted to Backtrace with the ",(0,r.jsx)(t.code,{children:"memory.warning"})," and ",(0,r.jsx)(t.code,{children:"memory.warning.date"})," attributes."]}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Enable client-side unwinding"}),(0,r.jsxs)(t.td,{children:["Enables callstack unwinding. If you're unable to upload all debug symbols for your app, you can use this setting to get debug information. Available only for supported versions of Android (NDK 19; Unity 2019+). ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{})," You can also enable this setting via the ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/configuration/#backtraceclient",children:(0,r.jsx)(t.code,{children:"BacktraceConfiguration"})})," object and the ",(0,r.jsx)(t.code,{children:".ClientSideUnwinding = true;"})," option."]}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Symbols upload token"}),(0,r.jsxs)(t.td,{children:["Required to automatically upload debug symbols to Backtrace. ",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{})," To generate a symbol upload token, in Backtrace go to Project Settings > Symbols > Access tokens > and select + to generate a new token."]}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{})]})]})]}),(0,r.jsx)(t.h4,{id:"proguard-rules",children:"ProGuard Rules"}),"ProGuard obfuscation prevents the reflection used to invoke Java code from the Unity bridge. The ProGuard symbolication id must be passed to BacktraceClient, and additional ProGuard rules must be added to allow Backtrace to identify Java classes.",(0,r.jsx)("br",{}),"Symbolication id is a UUID identifier created by the user. The same identifier value must be sent when uploading the source map and must be accessible in the game's runtime environment.",(0,r.jsx)("br",{}),"Please follow ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/android/proguard-deobfuscation/",children:"this guide"})," to enable ProGuard, and add the following:",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Pass your ProGuard symbolication id to BacktraceClient:","\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:'var backtraceClient = GameObject.Find("manager name").GetComponent<BacktraceClient>();\nvar symbolicationId = "f6c3e8d4-8626-4051-94ec-53e6daccce25";\nbacktraceClient.UseProguard(symbolicationId);\n'})}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Use these rules in proguard_rules.pro:","\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"-keep class backtraceio.unity.* { *; }\n-keep class backtraceio.library.**.* { *; }\n"})}),"\n"]}),"\n"]}),(0,r.jsx)(t.h4,{id:"uploading-debug-symbols",children:"Uploading Debug Symbols"}),"You can configure the Backtrace client to automatically upload debug symbols in IL2CPP builds for Android apps.","To enable automatic upload of debug symbols, in your Unity project's Android settings:",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["In the ",(0,r.jsx)(t.strong,{children:"Build Settings"}),", set ",(0,r.jsx)(t.strong,{children:"Create symbols.zip"})," to 'Debugging'.","\n",(0,r.jsx)("img",{src:(0,c.Ay)("img/error-reporting/unity/unity-android-build-settings-debug-symbols.png"),alt:"Build setting required to upload debug symbols to Backtrace for Android builds."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["In the ",(0,r.jsx)(t.strong,{children:"Player Settings"}),", under ",(0,r.jsx)(t.strong,{children:"Configuration (Other Settings)"}),", set ",(0,r.jsx)(t.strong,{children:"Scripting Backend"})," to 'IL2CPP'.","\n",(0,r.jsx)("img",{src:(0,c.Ay)("img/error-reporting/unity/unity-android-player-settings-debug-symbols.png"),alt:"Player setting required to upload debug symbols to Backtrace for Android builds."}),"\n"]}),"\n"]}),"For more information about debug symbols, see ",(0,r.jsx)(t.a,{href:"/error-reporting/project-setup/symbolication/",children:"Symbolication"}),"."]}),(0,r.jsxs)(s.A,{value:"ios",label:"iOS",children:["The Backtrace Unity SDK includes support for capturing native crashes, as well as memory and process information from the underlying iOS layer, including:",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"system.memory.free"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"system.memory.swap.used"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"system.memory.total"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"system.memory.active"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"system.memory.inactive"})}),"\n"]}),"For more information about other data that is captured, see ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/attributes",children:"Attributes"}),".",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Setting"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Capture native crashes"}),(0,r.jsx)(t.td,{children:"Captures and symbolicates stack traces for native crashes. A crash report is generated, stored locally, and uploaded upon next game start."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Capture ANR (Application not responding)"}),(0,r.jsxs)(t.td,{children:["Generates an error report whenever an app does not respond or hangs for more than 5 seconds. The ",(0,r.jsx)(t.code,{children:"error.type"})," for these reports will be ",(0,r.jsx)(t.code,{children:"Hang"}),"."]}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Send Out of Memory exceptions to Backtrace"}),(0,r.jsx)(t.td,{children:"Captures snapshots of the app's state when there is a low memory condition. If the app crashes due to a low memory condition, the information is sent to Backtrace. Snapshots are captured every 2 minutes as long as the low memory condition persists."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Enable client-side unwinding"}),(0,r.jsxs)(t.td,{children:["Enables callstack unwinding. If you're unable to upload all debug symbols for your app, you can use this setting to get debug information. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{})," You can also enable this setting via the ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/configuration/#backtraceclient",children:(0,r.jsx)(t.code,{children:"BacktraceConfiguration"})})," object and the ",(0,r.jsx)(t.code,{children:".ClientSideUnwinding = true;"})," option."]}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]})]})]}),(0,r.jsxs)(t.admonition,{type:"caution",children:[(0,r.jsx)(t.p,{children:"Unity's CrashReport API might prevent the Backtrace client from sending crashes. To allow Backtrace to capture native crashes, in your Unity project's Player Settings for iOS, under Debugging and crash reporting, make sure that Enable CrashReport API is set to 'False'."}),(0,r.jsx)("img",{src:(0,c.Ay)("img/error-reporting/unity/unity-ios-player-settings-native-crashes.png"),alt:"Player setting required to allow Backtrace to capture native crashes and exceptions."})]}),(0,r.jsx)(t.h4,{id:"uploading-debug-symbols-1",children:"Uploading Debug Symbols"}),"When building your iOS game in Xcode, make sure to configure the build settings to generate dSYM files for any build that you want to debug with Backtrace. By default, Xcode may only generate DWARF files.","To generate debug symbols in dSYM format:",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["In Xcode, go to your project target's ",(0,r.jsx)(t.strong,{children:"Build Settings"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Under ",(0,r.jsx)(t.strong,{children:"Build Options"}),", set ",(0,r.jsx)(t.strong,{children:"Debug Information Format"})," to ",(0,r.jsx)(t.strong,{children:"DWARF with dSYM File"}),"."]}),"\n"]}),(0,r.jsx)("img",{src:(0,c.Ay)("img/error-reporting/unity/xcode-enable-debug-symbols.png"),alt:"Build setting in Xcode required to generate debug symbols for iOS builds."}),"You can find the dSYM files in the Build folder for your project (",(0,r.jsx)(t.code,{children:".../Build/Products/<build target folder>"}),"), which you can then compress into a .zip file and upload to Backtrace.","For more information about debug symbols, see ",(0,r.jsx)(t.a,{href:"/error-reporting/project-setup/symbolication/",children:"Symbolication"}),"."]}),(0,r.jsxs)(s.A,{value:"windows",label:"Windows",children:["The Backtrace Unity SDK includes support for capturing native Windows crashes.",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Setting"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Minidump type"}),(0,r.jsx)(t.td,{children:"The type of memory information to capture from Windows minidump reports."}),(0,r.jsx)(t.td,{children:"Enum"}),(0,r.jsx)(t.td,{children:"None"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Capture native crashes"}),(0,r.jsx)(t.td,{children:"Captures stack traces for native crashes. A crash report is generated, stored locally, and uploaded upon next game start."}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Capture ANR (Application not responding)"}),(0,r.jsxs)(t.td,{children:["Generates a hang report whenever an app hangs for more than 5 seconds. The ",(0,r.jsx)(t.code,{children:"error.type"})," for these reports will be ",(0,r.jsx)(t.code,{children:"Hang"}),"."]}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"True"})]})]})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"logging-breadcrumbs",children:"Logging Breadcrumbs"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Setting"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Enable breadcrumbs support"}),(0,r.jsxs)(t.td,{children:["Logs breadcrumb events, such as the app going to a background process, logging messages, network connectivity lost, and more. ",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),"By default, breadcrumbs are limited to 64kB and older events will automatically be removed."]}),(0,r.jsx)(t.td,{children:"Boolean"}),(0,r.jsx)(t.td,{children:"False"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Breadcrumbs event type"}),(0,r.jsx)(t.td,{children:"Specifies which type of events to log."}),(0,r.jsx)(t.td,{children:"Enum"}),(0,r.jsx)(t.td,{children:"Everything"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Breadcrumbs log level"}),(0,r.jsx)(t.td,{children:"Specifies which log level severity to include."}),(0,r.jsx)(t.td,{children:"Enum"}),(0,r.jsx)(t.td,{children:"Everything"})]})]})]}),"\n",(0,r.jsx)(t.p,{children:'You can also add custom breadcrumb events, with information like "player completed a level" and sub attributes:'}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'GetComponent<BacktraceClient>().Breadcrumbs.Info("Player Base Upgraded", new Dictionary<string, string>() {\n  {"base.name", "MtGox"},\n  {"base.level", "15"}\n});\n'})}),"\n",(0,r.jsx)(t.h2,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,r.jsx)(t.h3,{id:"backtraceapi",children:(0,r.jsx)(t.code,{children:"backtraceApi"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| CLASS | REQUIRED |"})}),"\n",(0,r.jsxs)(t.p,{children:["Class used to send diagnostic data in JSON format to the Backtrace endpoint, including asynchronous reports. ",(0,r.jsx)(t.code,{children:"backtraceApi"})," is instantiated when the ",(0,r.jsx)(t.code,{children:"backtraceClient"})," awake method is called."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtraceclient",children:(0,r.jsx)(t.code,{children:"backtraceClient"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| CLASS | REQUIRED |"})}),"\n",(0,r.jsxs)(t.p,{children:["Class used to send ",(0,r.jsx)(t.code,{children:"backtraceReport"})," to the Backtrace server by using ",(0,r.jsx)(t.code,{children:"backtraceApi"}),". ",(0,r.jsx)(t.code,{children:"backtraceClient"})," requires a Backtrace Configuration window."]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["This class inherits ",(0,r.jsx)(t.code,{children:"MonoBehavior"})," functions."]})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'\n //Read from manager BacktraceClient instance\nvar backtraceClient = GameObject.Find("manager name").GetComponent<BacktraceClient>();\n\n//Set custom client attribute\nbacktraceClient["attribute"] = "attribute value";\n\n //Read from manager BacktraceClient instance\nvar database = GameObject.Find("manager name").GetComponent<BacktraceDatabase>();\n\n\ntry{\n    //throw exception here\n}\ncatch(Exception exception){\n    var report = new BacktraceReport(exception);\n    backtraceClient.Send(report);\n}\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtraceclientinitialize",children:(0,r.jsx)(t.code,{children:"backtraceClient.Initialize"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| METHOD | REQUIRED |"})}),"\n",(0,r.jsx)(t.p,{children:"Method used to initialize the Backtrace Unity SDK directly in the C# code of your Unity project."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'var backtraceClient = BacktraceClient.Initialize(\n    url: serverUrl,\n    databasePath: "${Application.persistentDataPath}/sample/backtrace/path",\n    gameObjectName: "game-object-name",\n    attributes: attributes);\n'})}),"\n",(0,r.jsxs)(t.p,{children:["If you need to use more advanced configuration settings, the ",(0,r.jsx)(t.code,{children:"Initialize"})," method accepts a ",(0,r.jsx)(t.code,{children:"BacktraceConfiguration"})," scriptable object. For example:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'var configuration = ScriptableObject.CreateInstance<BacktraceConfiguration>();\nconfiguration.ServerUrl = serverUrl;\nconfiguration.Enabled = true;\nconfiguration.DatabasePath = "${Application.persistentDataPath}/sample/backtrace/path";\nconfiguration.CreateDatabase = true;\nconfiguration.Sampling = 0.002;\nconfiguration.ClientSideUnwinding = true;\n_backtraceClient = BacktraceClient.Initialize(\n    configuration,\n    gameObjectName: "game-object-name",\n    attributes: attributes);\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtraceclientinstancemetricsaddsummedevent",children:(0,r.jsx)(t.code,{children:"backtraceClient.Instance.Metrics.AddSummedEvent"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| METHOD | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"Used to add custom metrics groups and attributes to capture your game or apps' stability."}),"\n",(0,r.jsxs)(t.p,{children:['For example, if you want to know details about the levels that a user has played in your game, you can add a "LevelsPlayed" event with the ',(0,r.jsx)(t.code,{children:"application.version"})," and ",(0,r.jsx)(t.code,{children:"score"})," attributes."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'BacktraceClient.Instance.Metrics.AddSummedEvent("levels_played", new Dictionary<string, string>() {\n  {"application.version", BacktraceClient.Instance["application.version"]},\n  {"score", "" + score}\n }\n);\n'})}),"\n",(0,r.jsxs)(t.p,{children:['As another example, if you want to know how many minutes a user has played your game, you can add a "MinutesPlayed" event with the ',(0,r.jsx)(t.code,{children:"application.version"})," and ",(0,r.jsx)(t.code,{children:"uname.sysname"})," attributes."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'private void Update()\n{\n    timeElapsedSeconds += Time.deltaTime;\n\n    // Every second, add an event for this metric group\n    if (timeElapsedSeconds >= 60)\n    {\n      timeElapsedSeconds = 0;\n\n      // Generate your attribute values for the attributes you want linked\n      Dictionary<string,string> attributes = new Dictionary<string, string>()\n      {\n        { "application.version", BacktraceClient.Instance["application.version"] },\n        { "uname.sysname", BacktraceClient.Instance["uname.sysname"] },\n        { "custom.field", "custom.value" },\n      };\n\n      // Add the summed event using the metric group name and attributes\n      BacktraceClient.Instance.Metrics.AddSummedEvent("MinutesPlayed", attributes);\n    }\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"The example above adds an event for this metric group to a queue, which will be sent based on the Auto send interval setting in the Backtrace Configuration in Unity."}),"\n",(0,r.jsxs)(t.p,{children:["You can adjust the frequency of that send process to suit your needs and/or manually send the events with ",(0,r.jsx)(t.code,{children:"BacktraceClient.Instance.Metrics.Send()"}),"."]}),"\n",(0,r.jsx)(t.admonition,{type:"caution",children:(0,r.jsx)(t.p,{children:"Adding multiple events with many linked attributes or sending the metrics events too frequently may affect the performance of your game or app and contribute a lot of data towards your Backtrace data storage limits."})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtraceclientrefresh",children:(0,r.jsx)(t.code,{children:"backtraceClient.Refresh"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| METHOD | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"Method used to refresh and apply the configuration settings for the Backtrace client when you change the configuration dynamically. For example:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'//Read from manager BacktraceClient instance\nvar backtraceClient = GameObject.Find("manager name").GetComponent<BacktraceClient>();\n\n//Set custom client attribute\nbacktraceClient["attribute"] = "attribute value";\n\n//Change configuration value\nbacktraceClient.configuration.DeduplicationStrategy = deduplicationStrategy;\n\n//Refresh configuration\nbacktraceClient.Refresh();\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtraceclientsend",children:(0,r.jsx)(t.code,{children:"backtraceClient.Send"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| METHOD | REQUIRED |"})}),"\n",(0,r.jsx)(t.p,{children:"Method used to send error reports to the Backtrace endpoint."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'try\n{\n  //throw exception here\n}\ncatch (Exception exception)\n{\n    var report = new BacktraceReport(\n        exception: exception,\n        attributes: new Dictionary<string, string>() { { "key", "value" } },\n        attachmentPaths: new List<string>() { @"file_path_1", @"file_path_2" }\n    );\n    backtraceClient.Send(report);\n}\n'})}),"\n",(0,r.jsx)(t.h4,{id:"custom-event-handlers",children:"Custom Event Handlers"}),"\n",(0,r.jsxs)(t.p,{children:["You can also add custom event handlers to the client. For example, you can use ",(0,r.jsx)(t.code,{children:"BeforeSend"})," to trigger actions before the ",(0,r.jsx)(t.code,{children:"Send"})," method:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:' //Add a custom event handler\nbacktraceClient.BeforeSend =\n    (Model.BacktraceData model) =>\n    {\n        var data = model;\n\n        //do something with the data, for example:\n        data.Attributes.Attributes.Add("eventAttribute", "EventAttributeValue");\n        if(data.Classifier == null || !data.Classifier.Any())\n        {\n            data.Attachments.Add("path to attachment");\n        }\n\n        return data;\n    };\n'})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"BacktraceClient"})," currently supports the following events:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"BeforeSend"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"OnClientReportLimitReached"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"OnServerResponse"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"OnServerError"})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["You can also use the ",(0,r.jsx)(t.a,{href:"/error-reporting/platform-integrations/unity/configuration/#backtracereport",children:(0,r.jsx)(t.code,{children:"backtraceReport"})})," class to customize the data included in the error reports sent by the ",(0,r.jsx)(t.code,{children:"backtraceClient"}),"."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtraceclientskipreport",children:(0,r.jsx)(t.code,{children:"backtraceClient.SkipReport"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| SETTING | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"If you want to ignore specific types of error reports, we recommend that you use the Filter reports settings in the Backtrace Configuration in the Unity Editor."}),"\n",(0,r.jsxs)(t.p,{children:["However, for more advanced use cases, you can use ",(0,r.jsx)(t.code,{children:"BacktraceClient.SkipReport"})," to set the ",(0,r.jsx)(t.code,{children:"ReportFilterType"}),". For example:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:"// Return 'true' to ignore a report,\n// Return 'false' to handle the report and generate it for the error.\nBacktraceClient.SkipReport = (ReportFilterType type, Exception e, string msg) =>\n{\n  // ReportFilterType is one of None, Message, Exception, UnhandledException or Hang.\n  // It is also possible to filter based on the exception and exception message.\n\n  // Report hangs and crashes only.\n  return type != ReportFilterType.Hang && type != ReportFilterType.UnhandledException;\n};\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtracedata",children:(0,r.jsx)(t.code,{children:"backtraceData"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| CLASS | OPTIONAL |"})}),"\n",(0,r.jsxs)(t.p,{children:["Serializable class that holds the diagnostic data in JSON format to be sent to the backtrace endpoint via ",(0,r.jsx)(t.code,{children:"backtraceApi"}),"."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtracedatabase",children:(0,r.jsx)(t.code,{children:"backtraceDatabase"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| CLASS | REQUIRED |"})}),"\n",(0,r.jsxs)(t.p,{children:["Class that stores error report data in your local hard drive when reports fail to send due to network outages or server unavailability. ",(0,r.jsx)(t.code,{children:"backtraceDatabase"})," will periodically try to resend reports cached in the database."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtracedatabaseclear",children:(0,r.jsx)(t.code,{children:"backtraceDatabase.Clear"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| METHOD | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"Clears all reports from the database without sending them to Backtrace server."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:"backtraceDatabase.Clear();\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtracedatabasecount",children:(0,r.jsx)(t.code,{children:"backtraceDatabase.Count"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| METHOD | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"Returns the number of reports stored in the database, including deduplicated reports."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:"backtraceDatabase.Count();\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtracedatabasedelete",children:(0,r.jsx)(t.code,{children:"backtraceDatabase.Delete"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| METHOD | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"Removes a report stored in the database, including deduplicated reports."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:"backtraceDatabase.Delete();\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtracedatabaseflush",children:(0,r.jsx)(t.code,{children:"backtraceDatabase.Flush"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| METHOD | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"Sends all reports to the Backtrace server then removes them from the database. This method is only needed to support the offline database when the Auto send mode is disabled."}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"Flush"})," method ignores client side deduplication and retry settings."]})}),"\n",(0,r.jsx)(t.admonition,{type:"caution",children:(0,r.jsxs)(t.p,{children:["If the ",(0,r.jsx)(t.code,{children:"Send"})," method fails, the database will no longer store data."]})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:"backtraceDatabase.Flush();\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"backtracedatabasesend",children:(0,r.jsx)(t.code,{children:"backtraceDatabase.Send"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| METHOD | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"Sends all reports to the Backtrace server, as defined by the client side deduplication and database retry settings. This method is only needed to support the offline database when the Auto send mode is disabled."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:"backtraceDatabase.Send();\n"})}),"\n",(0,r.jsx)(t.h3,{id:"backtracereport",children:(0,r.jsx)(t.code,{children:"backtraceReport"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| CLASS | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"Class that defines a single error report."}),"\n",(0,r.jsx)(t.h4,{id:"attributes-and-attachment-paths",children:"Attributes and Attachment Paths"}),"\n",(0,r.jsxs)(t.p,{children:["You can submit custom attributes using the ",(0,r.jsx)(t.code,{children:"attributes"})," parameter, or attach files by specifying an array of file paths with the ",(0,r.jsx)(t.code,{children:"attachmentPaths"})," parameter. For example:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'try\n{\n  //throw exception here\n}\ncatch (Exception exception)\n{\n    var report = new BacktraceReport(\n        exception: exception,\n        attributes: new Dictionary<string, string>() { { "key", "value" } },\n        attachmentPaths: new List<string>() { @"file_path_1", @"file_path_2" }\n    );\n    backtraceClient.Send(report);\n}\n'})}),"\n",(0,r.jsx)(t.h4,{id:"fingerprint-and-factor",children:"Fingerprint and Factor"}),"\n",(0,r.jsxs)(t.p,{children:["You can use the ",(0,r.jsx)(t.code,{children:"Fingerprint"})," and ",(0,r.jsx)(t.code,{children:"Factor"})," properties to modify the client side deduplication strategy. The ",(0,r.jsx)(t.code,{children:"Fingerprint"})," property changes the hash that is generated, while the ",(0,r.jsx)(t.code,{children:"Factor"})," property changes how duplicated reports are aggregated."]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsx)(t.p,{children:"Fingerprint values must be a valid SHA-256 string."})}),"\n",(0,r.jsx)(t.p,{children:"For example:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'try\n{\n  //throw exception here\n}\ncatch (Exception exception)\n{\n    var report = new BacktraceReport(...){\n        Fingerprint = "sha256 string",\n        Factor = exception.GetType().Name\n    };\n    ...\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"The Backtrace client will send a single report when an exception occurs and maintain a count for every other time it occurs, which reduces the volume of reports that are generated and sent to Backtrace."}),"\n",(0,r.jsx)(t.p,{children:"The count is reset when the offline database is cleared (usually when the reports are sent to the server) or if the game is closed before the reports are sent. A new single report is created the next time the exception occurs."}),"\n",(0,r.jsxs)(t.p,{children:["Information about aggregated reports is stored in ",(0,r.jsx)(t.code,{children:"backtraceDatabaseRecord"}),". You can use the ",(0,r.jsx)(t.code,{children:"Hash"})," property to verify the generated hash for the diagnostic data, and the ",(0,r.jsx)(t.code,{children:"Counter"})," property to verify the count of duplicated reports."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"reportwatcher",children:(0,r.jsx)(t.code,{children:"reportWatcher"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| CLASS | REQUIRED |"})}),"\n",(0,r.jsxs)(t.p,{children:["Class that validates send requests from ",(0,r.jsx)(t.code,{children:"backtraceApi"})," to the Backtrace endpoint. If ",(0,r.jsx)(t.code,{children:"ReportPerMin"})," is set to a value greater than '0' in the ",(0,r.jsx)(t.code,{children:"backtraceClient"})," configuration, ",(0,r.jsx)(t.code,{children:"reportWatcher"})," will limit the number of reports sent by the client."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"data-management",children:"Data Management"}),"\n",(0,r.jsx)(t.p,{children:"The Backtrace Unity SDK allows you to modify and remove data that the library collects when an exception occurs using the following methods:"}),"\n",(0,r.jsx)(t.h3,{id:"backtraceclientbeforesend",children:(0,r.jsx)(t.code,{children:"backtraceClient.BeforeSend"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| EVENT | OPTIONAL |"})}),"\n",(0,r.jsx)(t.p,{children:"Triggers an event every time an exception in the managed environment occurs, which allows you to skip the report (by returning a null value) or to modify data that library collected before sending the report."}),"\n",(0,r.jsxs)(t.p,{children:["You can use the ",(0,r.jsx)(t.code,{children:"BeforeSend"})," event to extend attributes or JSON object data based on data the application has at the time of exception."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'//Read from manager BacktraceClient instance\n\nvar backtraceClient = GameObject.Find("manager name").GetComponent<BacktraceClient>();\n\n// set beforeSend event\n\n_backtraceClient.BeforeSend = (BacktraceData data) =>\n{\n    data.Attributes.Attributes["my-dynamic-attribute"] = "value";\n    return data;\n};\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"annotationenvironmentvariables",children:(0,r.jsx)(t.code,{children:"Annotation.EnvironmentVariables"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"| CLASS | OPTIONAL | STRING |"})}),"\n",(0,r.jsxs)(t.p,{children:["The Annotation class exposes the ",(0,r.jsx)(t.code,{children:"EnvironmentVariablesCache"})," dictionary, which stores environment variables collected by the library. You can manipulate the data in this cache before the report is sent."]}),"\n",(0,r.jsxs)(t.p,{children:["For example, you can use an annotation to replace the ",(0,r.jsx)(t.code,{children:"USERNAME"})," environment variable with a random string, which will be used to create reports."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'Annotations.EnvironmentVariablesCache["USERNAME"] = "%USERNAME%";\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["You can also use the ",(0,r.jsx)(t.code,{children:"BeforeSend"})," event along with annotations for environment variables to edit collected diagnostic data."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'client.BeforeSend = (BacktraceData data) =>\n{\n    data.Annotation.EnvironmentVariables["USERNAME"] = "%USERNAME%";\n    return data;\n}\n'})})]})}function x(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},19365:(e,t,n)=>{n.d(t,{A:()=>s});n(96540);var r=n(34164);const a={tabItem:"tabItem_Ymn6"};var i=n(74848);function s(e){let{children:t,hidden:n,className:s}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,s),hidden:n,children:t})}},11470:(e,t,n)=>{n.d(t,{A:()=>k});var r=n(96540),a=n(34164),i=n(23104),s=n(56347),c=n(205),o=n(57485),d=n(31682),l=n(70679);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,d.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function x(e){let{queryString:t=!1,groupId:n}=e;const a=(0,s.W6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,o.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function j(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=u(e),[s,o]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:i}))),[d,h]=x({queryString:n,groupId:a}),[j,m]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,l.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),b=(()=>{const e=d??j;return p({value:e,tabValues:i})?e:null})();(0,c.A)((()=>{b&&o(b)}),[b]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),m(e)}),[h,m,i]),tabValues:i}}var m=n(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=n(74848);function f(e){let{className:t,block:n,selectedValue:r,selectValue:s,tabValues:c}=e;const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.a_)(),l=e=>{const t=e.currentTarget,n=o.indexOf(t),a=c[n].value;a!==r&&(d(t),s(a))},h=e=>{let t=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;t=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;t=o[n]??o[o.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},t),children:c.map((e=>{let{value:t,label:n,attributes:i}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>o.push(e),onKeyDown:h,onClick:l,...i,className:(0,a.A)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function y(e){let{lazy:t,children:n,selectedValue:i}=e;const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=s.find((e=>e.props.value===i));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function v(e){const t=j(e);return(0,g.jsxs)("div",{className:(0,a.A)("tabs-container",b.tabList),children:[(0,g.jsx)(f,{...t,...e}),(0,g.jsx)(y,{...t,...e})]})}function k(e){const t=(0,m.A)();return(0,g.jsx)(v,{...e,children:h(e.children)},String(t))}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>c});var r=n(96540);const a={},i=r.createContext(a);function s(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);