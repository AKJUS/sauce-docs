"use strict";(self.webpackChunksauce_docs=self.webpackChunksauce_docs||[]).push([[45201],{37444:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var n=r(74848),o=r(28453),a=r(86025);r(11470),r(19365);const i={id:"cordova",title:"Cordova",sidebar_label:"Cordova"},s=void 0,l={id:"testfairy/platforms/cordova",title:"Cordova",description:"Adding the TestFairy plugin to your Cordova or Phonegap project is simple.",source:"@site/docs/testfairy/platforms/cordova.md",sourceDirName:"testfairy/platforms",slug:"/testfairy/platforms/cordova",permalink:"/sauce-docs/pr-preview/pr-2917/testfairy/platforms/cordova",draft:!1,unlisted:!1,editUrl:"https://github.com/saucelabs/sauce-docs/edit/main/docs/testfairy/platforms/cordova.md",tags:[],version:"current",lastUpdatedBy:"Kerem",lastUpdatedAt:1724931632e3,frontMatter:{id:"cordova",title:"Cordova",sidebar_label:"Cordova"},sidebar:"docs",previous:{title:"Log Network",permalink:"/sauce-docs/pr-preview/pr-2917/testfairy/sdk/ios/log-network"},next:{title:"Expo",permalink:"/sauce-docs/pr-preview/pr-2917/testfairy/platforms/expo"}},c={},u=[{value:"Installation",id:"installation",level:2},{value:"Upgrading",id:"upgrading",level:2},{value:"Usage",id:"usage",level:2},{value:"Logging Errors",id:"logging-errors",level:3},{value:"Identifying Your Users",id:"identifying-your-users",level:3},{value:"Session Attributes",id:"session-attributes",level:3},{value:"Remote Logging",id:"remote-logging",level:3},{value:"Support for ARM Architecture vs. x86",id:"support-for-arm-architecture-vs-x86",level:2},{value:"Where To Go From Here?",id:"where-to-go-from-here",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"Adding the TestFairy plugin to your Cordova or Phonegap project is simple."}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"To learn more about the Ionic applications, see the Ionic /testfairy/platforms/ionic documentation."})}),"\n",(0,n.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,n.jsxs)(t.p,{children:["Add the plugin to your project via ",(0,n.jsx)(t.a,{href:"https://www.npmjs.com/package/com.testfairy.cordova-plugin",children:"npm"}),". Run the following command from a terminal:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"cordova plugin add com.testfairy.cordova-plugin\n"})}),"\n",(0,n.jsx)(t.p,{children:"Alternatively, you can install it directly from GitHub:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"cordova plugin add https://github.com/testfairy/testfairy-cordova-plugin\n"})}),"\n",(0,n.jsx)(t.h2,{id:"upgrading",children:"Upgrading"}),"\n",(0,n.jsx)(t.p,{children:"To upgrade your plugin, run:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"cordova plugin update com.testfairy.cordova-plugin\n"})}),"\n",(0,n.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,n.jsxs)(t.p,{children:["Initialize TestFairy with your ",(0,n.jsx)(t.a,{href:"https://app.testfairy.com/settings/#apptoken",children:"App Token"})," by calling ",(0,n.jsx)(t.code,{children:"TestFairy.begin"}),". Your ",(0,n.jsx)(t.strong,{children:"APP TOKEN"})," is available at ",(0,n.jsx)(t.code,{children:"https://app.testfairy.com/settings/#apptoken"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["It is recommended invoking ",(0,n.jsx)(t.code,{children:"TestFairy.begin"})," from ",(0,n.jsx)(t.code,{children:"onDeviceReady"})," in ",(0,n.jsx)(t.code,{children:"index.js"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:" onDeviceReady: function() {\n app.receivedEvent('deviceready');\n TestFairy.begin(\"APP TOKEN\");\n }\n"})}),"\n",(0,n.jsx)(t.h3,{id:"logging-errors",children:"Logging Errors"}),"\n",(0,n.jsx)(t.p,{children:"We recommended logging error events to TestFairy. It displays the exceptions and the rest of the session data, including logs and attributes. For more information, see the Exception Logging /testfairy/sdk/logging#cordova document."}),"\n",(0,n.jsx)(t.h3,{id:"identifying-your-users",children:"Identifying Your Users"}),"\n",(0,n.jsx)(t.p,{children:"See the SDK Documentation /testfairy/sdk/identifying-users#cordova for more information."}),"\n",(0,n.jsx)(t.h3,{id:"session-attributes",children:"Session Attributes"}),"\n",(0,n.jsx)(t.p,{children:"See the SDK Documentation /testfairy/sdk/session-attributes#cordova for more information."}),"\n",(0,n.jsx)(t.h3,{id:"remote-logging",children:"Remote Logging"}),"\n",(0,n.jsx)(t.p,{children:"See the SDK Documentation /testfairy/sdk/remote-logging#cordova for more information."}),"\n",(0,n.jsx)(t.h2,{id:"support-for-arm-architecture-vs-x86",children:"Support for ARM Architecture vs. x86"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"ERROR ITMS-90087: \"Unsupported Architectures. The executable TestFairy.framework contains unsupported architectures '[x86_64, i386]'\n"})}),"\n",(0,n.jsx)(t.p,{children:"This error happens when you export your iOS app to the App Store. The App Store only supports apps built for the ARM architecture. To allow developers to test in the iOS Simulator, TestFairy includes the architectures for 64-bit (x86_64) and 32-bit (i386) Intel architectures."}),"\n",(0,n.jsxs)(t.p,{children:["The quickest solution is to strip these architectures from ",(0,n.jsx)(t.code,{children:"TestFairy.framework"})," when archiving. You must add the following run script to your Xcode build phases:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'APP_PATH="${TARGET_BUILD_DIR}/${WRAPPER_NAME}"\n\nfind "$APP_PATH" -name \'TestFairy.framework\' -type d | while read -r FRAMEWORK\ndo\n  FRAMEWORK_EXECUTABLE_NAME=$(defaults read "$FRAMEWORK/Info.plist" CFBundleExecutable)\n  FRAMEWORK_EXECUTABLE_PATH="$FRAMEWORK/$FRAMEWORK_EXECUTABLE_NAME"\n  echo "Executable is $FRAMEWORK_EXECUTABLE_PATH"\n  echo $(lipo -info "$FRAMEWORK_EXECUTABLE_PATH")\n\n  FRAMEWORK_TMP_PATH="$FRAMEWORK_EXECUTABLE_PATH-tmp"\n\n  if $(lipo "$FRAMEWORK_EXECUTABLE_PATH" -verify_arch "i386") ; then\n  lipo -output "$FRAMEWORK_TMP_PATH" -remove "i386" "$FRAMEWORK_EXECUTABLE_PATH"\n  echo " i386 architecture removed"\n  rm "$FRAMEWORK_EXECUTABLE_PATH"\n  mv "$FRAMEWORK_TMP_PATH" "$FRAMEWORK_EXECUTABLE_PATH"\n  fi\n\n  if $(lipo "$FRAMEWORK_EXECUTABLE_PATH" -verify_arch "x86_64") ; then\n  lipo -output "$FRAMEWORK_TMP_PATH" -remove "x86_64" "$FRAMEWORK_EXECUTABLE_PATH"\n  echo " x86_64 architecture removed"\n  rm "$FRAMEWORK_EXECUTABLE_PATH"\n  mv "$FRAMEWORK_TMP_PATH" "$FRAMEWORK_EXECUTABLE_PATH"\n  fi\ndone\n'})}),"\n",(0,n.jsx)(t.admonition,{type:"caution",children:(0,n.jsxs)(t.p,{children:["You ",(0,n.jsx)(t.strong,{children:"must only"})," run this script during installation. The image below shows the necessary checkbox to prevent this script from running during regular development builds."]})}),"\n",(0,n.jsx)("img",{src:(0,a.Ay)("/img/testfairy/platform/only-when-installing.png"),alt:"only when installing"}),"\n",(0,n.jsx)(t.h2,{id:"where-to-go-from-here",children:"Where To Go From Here?"}),"\n",(0,n.jsxs)(t.p,{children:["Congratulations, you've successfully integrated TestFairy into your Cordova project! Visit your ",(0,n.jsx)(t.a,{href:"http://app.testfairy.com/",children:"dashboard"}),", to see your app listed."]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Have a look at the ",(0,n.jsx)(t.a,{href:"https://github.com/testfairy/testfairy-cordova-plugin/blob/master/www/testfairy.js",children:"API documentation"})," for other calls you can make to the TestFairy plugin"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Follow the project on ",(0,n.jsx)(t.a,{href:"https://github.com/testfairy/testfairy-cordova-plugin",children:"GitHub"})," for updates, bug reports, or to contribute to the project."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},19365:(e,t,r)=>{r.d(t,{A:()=>i});r(96540);var n=r(34164);const o={tabItem:"tabItem_Ymn6"};var a=r(74848);function i(e){let{children:t,hidden:r,className:i}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,n.A)(o.tabItem,i),hidden:r,children:t})}},11470:(e,t,r)=>{r.d(t,{A:()=>E});var n=r(96540),o=r(34164),a=r(23104),i=r(56347),s=r(205),l=r(57485),c=r(31682),u=r(70679);function d(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:t,children:r}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:r,attributes:n,default:o}}=e;return{value:t,label:r,attributes:n,default:o}}))}(r);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function h(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:r}=e;const o=(0,i.W6)(),a=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,l.aZ)(a),(0,n.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(o.location.search);t.set(a,e),o.replace({...o.location,search:t.toString()})}),[a,o])]}function f(e){const{defaultValue:t,queryString:r=!1,groupId:o}=e,a=p(e),[i,l]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!h({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:a}))),[c,d]=m({queryString:r,groupId:o}),[f,g]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[o,a]=(0,u.Dv)(r);return[o,(0,n.useCallback)((e=>{r&&a.set(e)}),[r,a])]}({groupId:o}),v=(()=>{const e=c??f;return h({value:e,tabValues:a})?e:null})();(0,s.A)((()=>{v&&l(v)}),[v]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!h({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,a]),tabValues:a}}var g=r(92303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=r(74848);function b(e){let{className:t,block:r,selectedValue:n,selectValue:i,tabValues:s}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),u=e=>{const t=e.currentTarget,r=l.indexOf(t),o=s[r].value;o!==n&&(c(t),i(o))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;t=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;t=l[r]??l[l.length-1];break}}t?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":r},t),children:s.map((e=>{let{value:t,label:r,attributes:a}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>l.push(e),onKeyDown:d,onClick:u,...a,className:(0,o.A)("tabs__item",v.tabItem,a?.className,{"tabs__item--active":n===t}),children:r??t},t)}))})}function x(e){let{lazy:t,children:r,selectedValue:a}=e;const i=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,n.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==a})))})}function A(e){const t=f(e);return(0,y.jsxs)("div",{className:(0,o.A)("tabs-container",v.tabList),children:[(0,y.jsx)(b,{...t,...e}),(0,y.jsx)(x,{...t,...e})]})}function E(e){const t=(0,g.A)();return(0,y.jsx)(A,{...e,children:d(e.children)},String(t))}},28453:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>s});var n=r(96540);const o={},a=n.createContext(o);function i(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);