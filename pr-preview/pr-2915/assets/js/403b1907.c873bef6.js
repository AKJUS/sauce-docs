"use strict";(self.webpackChunksauce_docs=self.webpackChunksauce_docs||[]).push([[62745],{10584:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>c,toc:()=>u});var i=a(74848),s=a(28453),t=(a(86025),a(11470)),l=a(19365);const r={id:"selenium4",title:"Upgrading to Selenium 4 for Sauce Labs Testing",sidebar_label:"Selenium 4"},o=void 0,c={id:"web-apps/automated-testing/selenium/selenium4",title:"Upgrading to Selenium 4 for Sauce Labs Testing",description:"This doc will guide you through how to upgrade to Selenium 4, which was released in late 2021.",source:"@site/docs/web-apps/automated-testing/selenium/selenium4.md",sourceDirName:"web-apps/automated-testing/selenium",slug:"/web-apps/automated-testing/selenium/selenium4",permalink:"/sauce-docs/pr-preview/pr-2915/web-apps/automated-testing/selenium/selenium4",draft:!1,unlisted:!1,editUrl:"https://github.com/saucelabs/sauce-docs/edit/main/docs/web-apps/automated-testing/selenium/selenium4.md",tags:[],version:"current",lastUpdatedBy:"Tian Feng",lastUpdatedAt:1724880664e3,frontMatter:{id:"selenium4",title:"Upgrading to Selenium 4 for Sauce Labs Testing",sidebar_label:"Selenium 4"},sidebar:"docs",previous:{title:"Quickstart",permalink:"/sauce-docs/pr-preview/pr-2915/web-apps/automated-testing/selenium/quickstart"},next:{title:"Using Pre-Run Executables",permalink:"/sauce-docs/pr-preview/pr-2915/web-apps/automated-testing/selenium/pre-run-executables"}},d={},u=[{value:"What You&#39;ll Learn",id:"what-youll-learn",level:2},{value:"What You\u2019ll Need",id:"what-youll-need",level:2},{value:"W3C WebDriver-Compliant Sessions",id:"w3c-webdriver-compliant-sessions",level:2},{value:"Capabilities",id:"capabilities",level:3},{value:"Converting Capabilities to Options",id:"converting-capabilities-to-options",level:4},{value:"Remote WebDriverBuilder",id:"remote-webdriverbuilder",level:3},{value:"New Features",id:"new-features",level:2},{value:"Relative Locators",id:"relative-locators",level:3},{value:"New Window",id:"new-window",level:3},{value:"Print Page",id:"print-page",level:3},{value:"Element Attribute vs Property",id:"element-attribute-vs-property",level:3},{value:"Chromium Edge Options",id:"chromium-edge-options",level:3},{value:"Timeout Getters",id:"timeout-getters",level:3},{value:"Network Conditions",id:"network-conditions",level:3},{value:"Full-Page Screenshots",id:"full-page-screenshots",level:3},{value:"Install and Uninstall Add-ons",id:"install-and-uninstall-add-ons",level:3},{value:"Change Preferences During Session",id:"change-preferences-during-session",level:3},{value:"Bidirectional APIs",id:"bidirectional-apis",level:3},{value:"Upgrading Your Dependencies",id:"upgrading-your-dependencies",level:2},{value:"Potential Errors and Deprecation Messages",id:"potential-errors-and-deprecation-messages",level:2},{value:"Find Element(s) Utility Methods",id:"find-elements-utility-methods",level:4},{value:"Timeout Parameters",id:"timeout-parameters",level:4},{value:"Wait Parameters",id:"wait-parameters",level:4},{value:"Merging Capabilities",id:"merging-capabilities",level:4},{value:"Firefox Legacy",id:"firefox-legacy",level:4},{value:"Browser Interface",id:"browser-interface",level:4},{value:"AddAdditionalOption",id:"addadditionaloption",level:4},{value:"More Information",id:"more-information",level:2},{value:"Comprehensive Guide to S4",id:"comprehensive-guide-to-s4",level:3},{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:3},{value:"Related Resources",id:"related-resources",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:a}=n;return a||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This doc will guide you through how to upgrade to Selenium 4, which was released in late 2021."}),"\n",(0,i.jsx)(n.p,{children:"Selenium 4 is designed to be a straightforward drop-in replacement for previous versions, however, you'll need to be aware of the new and deprecated features that may impact your Sauce Labs automated tests. This is especially important if you've built custom functionalities in your testing framework."}),"\n",(0,i.jsx)(n.h2,{id:"what-youll-learn",children:"What You'll Learn"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"How to adjust your tests and dependencies to work with Selenium 4"}),"\n",(0,i.jsx)(n.li,{children:"How to prevent and resolve potential issues that could arise during your upgrade to Selenium 4"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"what-youll-need",children:"What You\u2019ll Need"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A Sauce Labs account (",(0,i.jsx)(n.a,{href:"https://accounts.saucelabs.com/am/XUI/#login/",children:"Log in"})," or sign up for a ",(0,i.jsx)(n.a,{href:"https://saucelabs.com/sign-up",children:"free trial license"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"A working development environment for one of the supported Selenium 4 programming languages: JavaScript, Java, Python, Ruby, or C#."}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Although Selenium 4 has JavaScript bindings, we recommend using WebdriverIO instead when running tests on Sauce Labs."})}),"\n",(0,i.jsx)(n.h2,{id:"w3c-webdriver-compliant-sessions",children:"W3C WebDriver-Compliant Sessions"}),"\n",(0,i.jsx)(n.p,{children:"Selenium 4 deprecates support for legacy JSON Wire Protocol (JWP). As part of this change, Selenium is moving away from the less-structured Desired Capabilities classes to Browser Options classes. Here are some of the benefits:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Facilitates creation of ",(0,i.jsx)(n.a,{href:"/dev/w3c-webdriver-capabilities",children:"W3C WebDriver-compliant capabilities"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Simplifies the configuration needed to start a new session."}),"\n",(0,i.jsx)(n.li,{children:"Allows you to set both defined W3C Capabilities and browser-specific settings."}),"\n",(0,i.jsx)(n.li,{children:"Reduces the chances of browser misconfiguration."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"capabilities",children:"Capabilities"}),"\n",(0,i.jsxs)(n.p,{children:["You can use the following defined ",(0,i.jsx)(n.a,{href:"https://www.w3.org/TR/webdriver1/#capabilities",children:"W3C WebDriver-compliant capabilities"})," in your Sauce Labs tests:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"browserName"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"browserVersion"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"platformName"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"acceptInsecureCerts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"pageLoadStrategy"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"proxy"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"timeouts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"unhandledPromptBehavior"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Any capability not listed above must include a vendor prefix (i.e., ",(0,i.jsx)(n.code,{children:"moz:firefoxOptions"}),", ",(0,i.jsx)(n.code,{children:"goog:chromeOptions"}),", ",(0,i.jsx)(n.code,{children:"ms:edgeOptions"}),"). This rule applies to both browser-specific capabilities and Sauce Labs-specific capabilities."]}),"\n",(0,i.jsxs)(n.p,{children:["As an example, Firefox-specific capabilities need to be nested inside of ",(0,i.jsx)(n.code,{children:"moz:firefoxOptions"})," or other ",(0,i.jsx)(n.code,{children:"moz:<xyz>"})," keys. If you use a Browser Options class, no additional action is required. For Sauce Labs testing, however, you'll need to create a Hash or Dictionary of Sauce Labs-specific settings and place it inside of a ",(0,i.jsx)(n.code,{children:"sauce:options"})," object. See the examples in the next section."]}),"\n",(0,i.jsx)(n.h4,{id:"converting-capabilities-to-options",children:"Converting Capabilities to Options"}),"\n",(0,i.jsxs)(n.p,{children:["In the snippets below, ",(0,i.jsx)(n.strong,{children:"Recommended Code"})," contains our recommendations for Selenium 4, while those marked ",(0,i.jsx)(n.strong,{children:"Deprecated"})," contain code commonly used in Selenium 3.x or below."]}),"\n",(0,i.jsxs)(n.p,{children:["All valid ",(0,i.jsx)(n.code,{children:"sauce:options"})," parameters listed in the snippets are described in our ",(0,i.jsx)(n.a,{href:"/dev/test-configuration-options",children:"Test Configuration Options"})," documentation."]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["Use our ",(0,i.jsx)(n.a,{href:"https://saucelabs.com/platform/platform-configurator",children:"Platform Configurator"})," to auto-generate test configuration options in the language of your choice to copy and paste into your Selenium source code."]})}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsxs)(l.A,{value:"Java",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Recommended Code"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/selenium-examples/src/test/java/com/saucedemo/selenium/demo/SeleniumTest.java#L34-L43\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'title="Deprecated Code"',children:'DesiredCapabilities caps = DesiredCapabilities.firefox();\ncaps.setCapability("platform", "Windows 10");\ncaps.setCapability("version", "92");\ncaps.setCapability("build", myTestBuild);\ncaps.setCapability("name", myTestName);\nWebDriver driver = new RemoteWebDriver(new URL(sauceUrl), caps);\n'})})]}),(0,i.jsxs)(l.A,{value:"Python",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'reference title="Recommended Code"',children:"https://github.com/saucelabs-training/demo-python/blob/docs-1.1/examples/selenium/conftest.py#L12-L25\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'title="Deprecated Code"',children:"caps = {}\ncaps['browserName'] = 'firefox'\ncaps['platform'] = 'Windows 10'\ncaps['version'] = '92'\ncaps['build'] = my_test_build\ncaps['name'] = my_test_name\ndriver = webdriver.Remote(sauce_url, desired_capabilities=caps)\n"})})]}),(0,i.jsxs)(l.A,{value:"Ruby",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Recommended Code"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/selenium-examples/rspec/spec/spec_helper.rb#L9-L16\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'title="Deprecated Code"',children:"caps = Selenium::WebDriver::Remote::Capabilities.firefox\ncaps[:platform] = 'Windows 10'\ncaps[:version] = '92'\ncaps[:build] = my_test_build\ncaps[:name] = my_test_name\ndriver = Selenium::WebDriver.for :remote, url: sauce_url, desired_capabilities: caps\n"})})]}),(0,i.jsxs)(l.A,{value:"C#",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Recommended Code"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4Demo.cs#L21-L30\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",metastring:'title="Deprecated Code"',children:'DesiredCapabilities caps = new DesiredCapabilities();\ncaps.SetCapability("browserName", "firefox");\ncaps.SetCapability("platform", "Windows 10");\ncaps.SetCapability("version", "92");\ncaps.SetCapability("build", myTestBuild);\ncaps.SetCapability("name", myTestName);\nvar driver = new RemoteWebDriver(new Uri(SauceURL), capabilities);\n'})})]})]}),"\n",(0,i.jsx)(n.h3,{id:"remote-webdriverbuilder",children:"Remote WebDriverBuilder"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("span",{className:"sauceGreen",children:(0,i.jsx)("small",{children:"Java only"})})}),"\n",(0,i.jsxs)(n.p,{children:["An alternative way to start your session in Java is with the ",(0,i.jsx)(n.code,{children:"RemoteWebDriverBuilder"}),". This class has a few advantages for Sauce Labs users, including automatic driver augmentation (this is required for several of the new features below), and the ability to set HTTP Client settings like read timeouts."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="RemoteWebDriverBuilder example"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/RemoteWebDriverBuilderTest.java#L29-L51\n"})}),"\n",(0,i.jsx)(n.h2,{id:"new-features",children:"New Features"}),"\n",(0,i.jsx)(n.p,{children:"Here are the new Selenium 4 features that you can use in your Sauce Labs tests, along with code snippet examples for each supported programming language."}),"\n",(0,i.jsx)(n.h3,{id:"relative-locators",children:"Relative Locators"}),"\n",(0,i.jsx)(n.p,{children:"Relative locators allow you to identify elements in relationship to each other as they are displayed on the page, using natural, language-friendly terms, such as \u201cabove\u201d, \u201cbelow\u201d, \u201cleft of\u201d, \u201cright of\u201d, and \u201cnear\u201d."}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"If you change the browser window size or add/remove anything on your webpage, this could change which element is located."})}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsx)(l.A,{value:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Relative Locators"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/RelativeLocatorsTest.java#L15-L21\n"})})}),(0,i.jsx)(l.A,{value:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'reference title="Relative Locators"',children:"https://github.com/saucelabs-training/demo-python/blob/docs-1.1/examples/selenium/new_features/test_relative_locators.py#L6-L13\n"})})}),(0,i.jsx)(l.A,{value:"Ruby",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Relative Locators"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/relative_locators_spec.rb#L7-L13\n"})})}),(0,i.jsx)(l.A,{value:"C#",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Relative Locators"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/RelativeLocators.cs#L39-L47\n"})})})]}),"\n",(0,i.jsx)(n.h3,{id:"new-window",children:"New Window"}),"\n",(0,i.jsx)(n.p,{children:"This feature allows you to create and switch to a new (blank) tab or window."}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsxs)(l.A,{value:"Java",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Create New Window"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/NewWindowTest.java#L13-L16\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Create New Tab"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/NewWindowTest.java#L21-L23\n"})})]}),(0,i.jsxs)(l.A,{value:"Python",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'reference title="Create New Window"',children:"https://github.com/saucelabs-training/demo-python/blob/docs-1.1/examples/selenium/new_features/test_new_window.py#L5-L8\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'reference title="Create New Tab"',children:"https://github.com/saucelabs-training/demo-python/blob/docs-1.1/examples/selenium/new_features/test_new_window.py#L12-L14\n"})})]}),(0,i.jsxs)(l.A,{value:"Ruby",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Create New Window"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/new_window_spec.rb#L7-L9\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Create New Tab"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/new_window_spec.rb#L13-L14\n"})})]}),(0,i.jsxs)(l.A,{value:"C#",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Create New Window"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/NewWindow.cs#L39-L42\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Create New Tab"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/NewWindow.cs#L48-L50\n"})})]})]}),"\n",(0,i.jsx)(n.h3,{id:"print-page",children:"Print Page"}),"\n",(0,i.jsx)(n.p,{children:"This feature allows you to print a page as a PDF in Chrome, Firefox and Edge. You can apply customizations including (but not limited to) page size, range, margins, background, and shrink-to-fit. Here are code examples with the defaults:"}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"For Chrome and Edge, this only works in Headless mode."})}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsx)(l.A,{value:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Print Page"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/ViewPageFirefoxTest.java#L38-L41\n"})})}),(0,i.jsx)(l.A,{value:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'reference title="Print Page"',children:"https://github.com/saucelabs-training/demo-python/blob/docs-1.1/examples/selenium/new_features/test_print_page.py#L8-L13\n"})})}),(0,i.jsx)(l.A,{value:"Ruby",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Print Page"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/ViewPageFirefox.cs#L39-L44\n"})})}),(0,i.jsx)(l.A,{value:"C#",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Print Page"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/RelativeLocators.cs#L39-L47\n"})})})]}),"\n",(0,i.jsx)(n.h3,{id:"element-attribute-vs-property",children:"Element Attribute vs Property"}),"\n",(0,i.jsx)(n.p,{children:"The Selenium 3.x method for getting an element's attribute does not actually give you the element's attribute."}),"\n",(0,i.jsx)(n.p,{children:"Selenium 4 better clarifies the difference between an element and an attribute, and provides you with the value you likely intended. Because this magic can not be precisely specified for W3C WebDriver capabilities, two new methods were created."}),"\n",(0,i.jsx)(n.p,{children:"The original method hasn't changed, but using it will be slightly less performant on Sauce Labs, as well as less precise. The new methods are named slightly differently in each language."}),"\n",(0,i.jsx)(n.p,{children:"Below are some examples showing the behavior of these attribute and property methods."}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsx)(l.A,{value:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Attributes vs Properties"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.2/selenium-examples/src/test/java/com/saucedemo/selenium/se4newfeatures/AttributePropertyTest.java\n"})})}),(0,i.jsx)(l.A,{value:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'reference title="Attributes vs Properties"',children:"https://github.com/saucelabs-training/demo-python/blob/docs-1.1/examples/selenium/new_features/test_attribute_property.py\n"})})}),(0,i.jsx)(l.A,{value:"Ruby",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Attributes vs Properties"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/attribute_property_spec.rb\n"})})}),(0,i.jsx)(l.A,{value:"C#",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Attributes vs Properties"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/AttributeProperty.cs\n"})})})]}),"\n",(0,i.jsx)(n.h3,{id:"chromium-edge-options",children:"Chromium Edge Options"}),"\n",(0,i.jsx)(n.p,{children:"Selenium 4 allows you to apply custom Chromium Edge Options."}),"\n",(0,i.jsx)(n.p,{children:"When the latest version of Selenium 3 was released, Microsoft Edge was still being implemented with the now-deprecated EdgeHTML browser engine. None of the custom options for working with the Chromium version of Edge were available in Selenium 3."}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsx)(l.A,{value:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Chromium Edge Options"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/MSEdgeTest.java#L15-L21\n"})})}),(0,i.jsx)(l.A,{value:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'reference title="Chromium Edge Options"',children:"https://github.com/saucelabs-training/demo-python/blob/docs-1.1/examples/selenium/new_features/test_ms_edge.py#L8-L11\n"})})}),(0,i.jsx)(l.A,{value:"Ruby",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Chromium Edge Options"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/ms_edge_spec.rb#L11-L18\n"})})}),(0,i.jsx)(l.A,{value:"C#",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Chromium Edge Options"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/MSEdge.cs#L20-L23\n"})})})]}),"\n",(0,i.jsx)(n.h3,{id:"timeout-getters",children:"Timeout Getters"}),"\n",(0,i.jsx)(n.p,{children:"This is a long-requested feature. Selenium 3 allowed you to set timeouts whenever you liked, but did not provide a way to query the driver for the current timeout values. Selenium 4 provides that ability now."}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"Best practice is to set the timeout values in the Options class when starting the session and then ignore them during the test (i.e., do not use the setters or getters)."})}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsx)(l.A,{value:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Get Timeouts"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/TimeoutsTest.java#L13-L22\n"})})}),(0,i.jsx)(l.A,{value:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'reference title="Get Timeouts"',children:"https://github.com/saucelabs-training/demo-python/blob/docs-1.1/examples/selenium/new_features/test_timeouts.py#L6-L12\n"})})}),(0,i.jsx)(l.A,{value:"Ruby",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Get Timeouts"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/timeouts_spec.rb#L7-L11\n"})})}),(0,i.jsx)(l.A,{value:"C#",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Get Timeouts"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/Timeouts.cs#L38-L42\n"})})})]}),"\n",(0,i.jsx)(n.h3,{id:"network-conditions",children:"Network Conditions"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("span",{className:"sauceGreen",children:(0,i.jsx)("small",{children:"Chrome and Edge only"})})}),"\n",(0,i.jsx)(n.p,{children:"Selenium 4 provides a set of parameters to modify network conditions, such as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Going offline"}),"\n",(0,i.jsx)(n.li,{children:"Setting a latency for the connection"}),"\n",(0,i.jsx)(n.li,{children:"Altering the upload or download throughput"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This can be useful to test web apps under different network conditions."}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Sauce Labs also provides the ability to ",(0,i.jsx)(n.a,{href:"/insights/debug/#saucethrottlenetwork",children:"throttle network settings"})," through our ",(0,i.jsx)(n.a,{href:"/insights/debug/",children:"Extended Debugging"})," feature."]})}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsx)(l.A,{value:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Network Conditions"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/ChromeNetworkTest.java#L16-L28\n"})})}),(0,i.jsx)(l.A,{value:"Python",children:"Python does not support this feature in Remote driver sessions."}),(0,i.jsx)(l.A,{value:"Ruby",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Network Conditions"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/chrome_network_spec.rb#L8-L12\n"})})}),(0,i.jsx)(l.A,{value:"C#",children:(0,i.jsxs)(a,{children:[(0,i.jsxs)("summary",{children:[(0,i.jsx)("strong",{children:"Click here"})," to see the full C# example of setting Network Conditions. The C# implementation of this is a little more complex."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Network Conditions"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/ChromeNetwork.cs#L39-L86\n"})})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"full-page-screenshots",children:"Full-Page Screenshots"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("span",{className:"sauceGreen",children:(0,i.jsx)("small",{children:"Firefox only"})})}),"\n",(0,i.jsx)(n.p,{children:'Features like "infinite scroll" make it impossible to explicitly define what a "full page" entails for a W3C specification. As such, the default screenshot method in Selenium 3 only returns what is visible in the Viewport. For Selenium 4, Mozilla implemented a separate method to allow for a full-page screenshot in Firefox.'}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsx)(l.A,{value:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Full Page Screenshot"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/ViewPageFirefoxTest.java#L55-L59\n"})})}),(0,i.jsx)(l.A,{value:"Python",children:"Python does not support this feature in Remote driver sessions."}),(0,i.jsx)(l.A,{value:"Ruby",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Full Page Screenshot"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/view_page_firefox_spec.rb#L17-L18\n"})})}),(0,i.jsx)(l.A,{value:"C#",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Full Page Screenshot"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/ViewPageFirefox.cs#L59-L73\n"})})})]}),"\n",(0,i.jsx)(n.h3,{id:"install-and-uninstall-add-ons",children:"Install and Uninstall Add-ons"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("span",{className:"sauceGreen",children:(0,i.jsx)("small",{children:"Firefox only"})})}),"\n",(0,i.jsx)(n.p,{children:"All other browser drivers except for Firefox allow you to install extensions with the Browser Options class. For Firefox, you'll need to install a separate method after the browser has been started."}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsx)(l.A,{value:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Install and Uninstall Add-ons"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/FirefoxAddonTest.java#L23-L32\n"})})}),(0,i.jsx)(l.A,{value:"Python",children:"Python does not support this feature in Remote driver sessions."}),(0,i.jsx)(l.A,{value:"Ruby",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Install and Uninstall Add-ons"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/firefox_addon_spec.rb#L7-L15\n"})})}),(0,i.jsx)(l.A,{value:"C#",children:(0,i.jsxs)(a,{children:[(0,i.jsxs)("summary",{children:[(0,i.jsx)("strong",{children:"Click here"})," to see the full example of Installing and Uninstalling Add-ons. The C# implementation of this is a little more complex."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Install and Uninstall Add-ons"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/FirefoxAddon.cs#L41-L93\n"})})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"change-preferences-during-session",children:"Change Preferences During Session"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("span",{className:"sauceGreen",children:(0,i.jsx)("small",{children:"Firefox only"})})}),"\n",(0,i.jsxs)(n.p,{children:["In Selenium 3, you can only set preferences in the Capabilities at the beginning of a test. Firefox has provided a way in Selenium 4 to update things whenever you want during a session. This is done by toggling the ",(0,i.jsx)(n.em,{children:"context"}),' between "chrome" and "content".']}),"\n",(0,i.jsx)(n.p,{children:'Here are some examples of using the "chrome" context to change the default accepted language of the browser:'}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:'Most Selenium commands are not valid in the "chrome" context. Be sure to switch back after using it.'})}),"\n",(0,i.jsxs)(t.A,{groupId:"lang-ex",defaultValue:"Java",values:[{label:"Java",value:"Java"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsx)(l.A,{value:"Java",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Change Context"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.1/training-sessions/selenium4/src/test/java/com/saucelabs/selenium4/new_/FirefoxContextTest.java#L25-L39\n"})})}),(0,i.jsx)(l.A,{value:"Python",children:"Python does not support this feature in Remote driver sessions."}),(0,i.jsx)(l.A,{value:"Ruby",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",metastring:'reference title="Change Context"',children:"https://github.com/saucelabs-training/demo-ruby/blob/docs-1.1/training-sessions/selenium4/spec/firefox_context_spec.rb#L6-L23\n"})})}),(0,i.jsx)(l.A,{value:"C#",children:(0,i.jsxs)(a,{children:[(0,i.jsxs)("summary",{children:[(0,i.jsx)("strong",{children:"Click here"})," to see the full example of Changing Preferences During a Session. The C# implementation of this is a little more complex."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",metastring:'reference title="Change Context"',children:"https://github.com/saucelabs-training/demo-csharp/blob/docs-1.1/DotnetCore/Sauce.Demo/Core.Selenium.Examples/Selenium4/NewFeatures/FirefoxContext.cs#L41-L96\n"})})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"bidirectional-apis",children:"Bidirectional APIs"}),"\n",(0,i.jsxs)(n.p,{children:["We support all new Selenium 4 features except for Bidirectional APIs. While we're working hard to add full support, we do provide similar functionality through our ",(0,i.jsx)(n.a,{href:"/insights/debug",children:"Extended Debugging"})," feature, which allows you to:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Intercept network requests to mock backends"}),"\n",(0,i.jsx)(n.li,{children:"Throttling performance of both network and CPU"}),"\n",(0,i.jsx)(n.li,{children:"Access console and network logs"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"upgrading-your-dependencies",children:"Upgrading Your Dependencies"}),"\n",(0,i.jsx)(n.p,{children:"Check the sections below to install Selenium 4 and have your project dependencies upgraded."}),"\n",(0,i.jsx)(n.p,{children:"The process of upgrading Selenium depends on which build tool is being used. We will cover the most common ones for JavaScript, Java (Maven and Gradle), Python, Ruby, and C#."}),"\n",(0,i.jsxs)(t.A,{defaultValue:"JavaScript",values:[{label:"JavaScript",value:"JavaScript"},{label:"Java/Maven",value:"Java/Maven"},{label:"Java/Gradle",value:"Java/Gradle"},{label:"Python",value:"Python"},{label:"Ruby",value:"Ruby"},{label:"C#",value:"C#"}],children:[(0,i.jsxs)(l.A,{value:"JavaScript",children:["The selenium-webdriver package can be found at the Node package manager, ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/",children:"npmjs"}),". The latest JavaScript version can be found ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/selenium-webdriver/v/4.0.0",children:"here"}),". To install it, you could either:",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Execute ",(0,i.jsx)(n.code,{children:"npm install selenium-webdriver"})]}),"\n",(0,i.jsxs)(n.li,{children:["or update your package. json and run npm install:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n"name": "selenium-tests",\n"version": "1.0.0",\n"dependencies": {\n"selenium-webdriver": "^4.0.0"\n}\n}\n'})}),"\n"]}),"\n"]})]}),(0,i.jsxs)(l.A,{value:"Java/Maven",children:["Minimum Java version required is still 8.",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Selenium 3 Dependency"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.2/selenium3-examples/pom.xml#L17-L22\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",metastring:'reference title="Selenium 4 Dependency"',children:"https://github.com/saucelabs-training/demo-java/blob/docs-1.2/selenium-examples/pom.xml#L21-L25\n"})}),"After making the change, you could execute ",(0,i.jsx)(n.code,{children:"mvn clean compile"})," on the same directory where the ",(0,i.jsx)(n.code,{children:"pom.xml"})," file is."]}),(0,i.jsxs)(l.A,{value:"Java/Gradle",children:["Minimum Java version required is still 8.",(0,i.jsx)(n.strong,{children:"Before"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"plugins {\n\tid 'java'\n}\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\nrepositories {\n\tmavenCentral()\n}\ndependencies {\n\ttestImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n\ttestRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n\timplementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.141.59'\n}\ntest {\n\tuseJUnitPlatform()\n}\n"})}),(0,i.jsx)(n.strong,{children:"After"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"plugins {\n\tid 'java'\n}\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n\tmavenCentral()\n}\ndependencies {\n\ttestImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n\ttestRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n\timplementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '4.0.0'\n}\ntest {\n\tuseJUnitPlatform()\n}\n"})}),"After making the change, you could execute ",(0,i.jsx)(n.code,{children:"./gradlew clean build"})," on the same directory where the ",(0,i.jsx)(n.code,{children:"build.gradle"})," file is. To view all Java releases, head to the ",(0,i.jsx)(n.a,{href:"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java",children:"MVNRepository"}),"."]}),(0,i.jsxs)(l.A,{value:"Python",children:["The most important change to use Python is the minimum required version. Selenium 4 will require a minimum Python 3.7 or higher. More details can be found at the ",(0,i.jsx)(n.a,{href:"https://pypi.org/project/selenium/4.0.0rc3",children:"Python Package Index"}),". To upgrade from the command line, you can execute:",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"pip install selenium==4.0.0\n"})})]}),(0,i.jsxs)(l.A,{value:"Ruby",children:["The update details for Selenium 4 can be seen at the selenium-webdriver gem in RubyGems. To install the latest version, you can execute:",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",children:"gem install selenium-webdriver\n"})}),"To add it to your Gemfile:",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",children:"gem 'selenium-webdriver', '~> 4.0'\n"})})]}),(0,i.jsxs)(l.A,{value:"C#",children:["The place to get updates for Selenium 4 in C# is ",(0,i.jsx)(n.a,{href:"https://www.nuget.org",children:"NuGet"}),". Under the ",(0,i.jsx)(n.a,{href:"https://www.nuget.org/packages/Selenium.WebDriver/4.0.0-rc3",children:"Selenium.WebDriver"})," package you can get the instructions to update to the latest version. Inside of Visual Studio, through the NuGet Package Manager, you can execute:",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"PM> Install-Package Selenium.WebDriver -Version 4.0.0\n"})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"potential-errors-and-deprecation-messages",children:"Potential Errors and Deprecation Messages"}),"\n",(0,i.jsx)(n.p,{children:"Below are code examples that can help resolve deprecation messages you might encounter after upgrading to Selenium 4."}),"\n",(0,i.jsx)(n.h4,{id:"find-elements-utility-methods",children:"Find Element(s) Utility Methods"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("span",{className:"sauceGreen",children:(0,i.jsx)("small",{children:"Java only"})})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"FindsBy"})," interfaces, utility methods to find elements in the Java bindings, have been removed, as they were meant for internal use only. In Example 2, you'll see that all the ",(0,i.jsx)(n.code,{children:"findElements*"})," have been removed as well."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example 1"})}),"\n",(0,i.jsxs)(t.A,{defaultValue:"Selenium 4",values:[{label:"Selenium 4",value:"Selenium 4"},{label:"Legacy",value:"Legacy"}],children:[(0,i.jsx)(l.A,{value:"Selenium 4",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'driver.findElement(By.className("className"));\ndriver.findElement(By.cssSelector(".className"));\ndriver.findElement(By.id("elementId"));\ndriver.findElement(By.linkText("linkText"));\ndriver.findElement(By.name("elementName"));\ndriver.findElement(By.partialLinkText("partialText"));\ndriver.findElement(By.tagName("elementTagName"));\ndriver.findElement(By.xpath("xPath"));\n'})})}),(0,i.jsx)(l.A,{value:"Legacy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'driver.findElementByClassName("className");\ndriver.findElementByCssSelector(".className");\ndriver.findElementById("elementId");\ndriver.findElementByLinkText("linkText");\ndriver.findElementByName("elementName");\ndriver.findElementByPartialLinkText("partialText");\ndriver.findElementByTagName("elementTagName");\ndriver.findElementByXPath("xPath");\n'})})})]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example 2"})}),"\n",(0,i.jsxs)(t.A,{defaultValue:"Selenium 4",values:[{label:"Selenium 4",value:"Selenium 4"},{label:"Legacy",value:"Legacy"}],children:[(0,i.jsx)(l.A,{value:"Selenium 4",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'driver.findElements(By.className("className"));\ndriver.findElements(By.cssSelector(".className"));\ndriver.findElements(By.id("elementId"));\ndriver.findElements(By.linkText("linkText"));\ndriver.findElements(By.name("elementName"));\ndriver.findElements(By.partialLinkText("partialText"));\ndriver.findElements(By.tagName("elementTagName"));\ndriver.findElements(By.xpath("xPath"));\n'})})}),(0,i.jsx)(l.A,{value:"Legacy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'driver.findElementsByClassName("className");\ndriver.findElementsByCssSelector(".className");\ndriver.findElementsById("elementId");\ndriver.findElementsByLinkText("linkText");\ndriver.findElementsByName("elementName");\ndriver.findElementsByPartialLinkText("partialText");\ndriver.findElementsByTagName("elementTagName");\ndriver.findElementsByXPath("xPath");\n'})})})]}),"\n",(0,i.jsx)(n.h4,{id:"timeout-parameters",children:"Timeout Parameters"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("span",{className:"sauceGreen",children:(0,i.jsx)("small",{children:"Java only"})})}),"\n",(0,i.jsxs)(n.p,{children:["The parameters received in ",(0,i.jsx)(n.code,{children:"Timeout"})," have switched from expecting (long time, ",(0,i.jsx)(n.code,{children:"TimeUnit"})," unit) to expect (",(0,i.jsx)(n.code,{children:"Duration"})," duration)."]}),"\n",(0,i.jsxs)(t.A,{defaultValue:"Selenium 4",values:[{label:"Selenium 4",value:"Selenium 4"},{label:"Legacy",value:"Legacy"}],children:[(0,i.jsx)(l.A,{value:"Selenium 4",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\ndriver.manage().timeouts().scriptTimeout(Duration.ofMinutes(2));\ndriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(10));\n"})})}),(0,i.jsx)(l.A,{value:"Legacy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\ndriver.manage().timeouts().setScriptTimeout(2, TimeUnit.MINUTES);\ndriver.manage().timeouts().pageLoadTimeout(10, TimeUnit.SECONDS);\n"})})})]}),"\n",(0,i.jsx)(n.h4,{id:"wait-parameters",children:"Wait Parameters"}),"\n",(0,i.jsxs)(n.p,{children:["Waits are also expecting different parameters now. ",(0,i.jsx)(n.code,{children:"WebDriverWait"})," is now expecting a Duration instead of a long for timeout in seconds and milliseconds. The ",(0,i.jsx)(n.code,{children:"withTimeout"})," and ",(0,i.jsx)(n.code,{children:"pollingEvery"})," utility methods from ",(0,i.jsx)(n.code,{children:"FluentWait"})," have switched from expecting (long time, ",(0,i.jsx)(n.code,{children:"TimeUnit"})," unit) to expect (",(0,i.jsx)(n.code,{children:"Duration"})," duration)."]}),"\n",(0,i.jsxs)(t.A,{defaultValue:"Selenium 4",values:[{label:"Selenium 4",value:"Selenium 4"},{label:"Legacy",value:"Legacy"}],children:[(0,i.jsx)(l.A,{value:"Selenium 4",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'new WebDriverWait(driver, Duration.ofSeconds(3))\n.until(ExpectedConditions.elementToBeClickable(By.cssSelector("#id")));\n\nWait<WebDriver> wait = new FluentWait<WebDriver>(driver)\n  .withTimeout(Duration.ofSeconds(30))\n  .pollingEvery(Duration.ofSeconds(5))\n  .ignoring(NoSuchElementException.class);\n'})})}),(0,i.jsx)(l.A,{value:"Legacy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'new WebDriverWait(driver, 3)\n.until(ExpectedConditions.elementToBeClickable(By.cssSelector("#id")));\n\nWait<WebDriver> wait = new FluentWait<WebDriver>(driver)\n  .withTimeout(30, TimeUnit.SECONDS)\n  .pollingEvery(5, TimeUnit.SECONDS)\n  .ignoring(NoSuchElementException.class);\n'})})})]}),"\n",(0,i.jsx)(n.h4,{id:"merging-capabilities",children:"Merging Capabilities"}),"\n",(0,i.jsx)(n.p,{children:"Prior to Selenium 4, you could merge one set of capabilities into different set, and this would mutate the calling object. With Selenium 4, this is deprecated; you'll need to manually assign the result of the merge operation."}),"\n",(0,i.jsxs)(t.A,{defaultValue:"Selenium 4",values:[{label:"Selenium 4",value:"Selenium 4"},{label:"Legacy",value:"Legacy"}],children:[(0,i.jsxs)(l.A,{value:"Selenium 4",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'MutableCapabilities capabilities = new MutableCapabilities();\ncapabilities.setCapability("platformVersion", "Windows 10");\nFirefoxOptions options = new FirefoxOptions();\noptions.setHeadless(true);\noptions = options.merge(capabilities);\n'})}),"The result of the merge call needs to be assigned to an object."]}),(0,i.jsxs)(l.A,{value:"Legacy",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'MutableCapabilities capabilities = new MutableCapabilities();\ncapabilities.setCapability("platformVersion", "Windows 10");\nFirefoxOptions options = new FirefoxOptions();\noptions.setHeadless(true);\noptions.merge(capabilities);\n'})}),"As a result, the ",(0,i.jsx)(n.code,{children:"options"})," object was getting modified."]})]}),"\n",(0,i.jsx)(n.h4,{id:"firefox-legacy",children:"Firefox Legacy"}),"\n",(0,i.jsx)(n.p,{children:"Before GeckoDriver was around, the Selenium project had a driver implementation to automate Firefox versions below 48.\nWith the release of Selenium 4, this implementation is not needed anymore, as it does not work in recent versions of Firefox."}),"\n",(0,i.jsxs)(n.p,{children:["To avoid major issues when upgrading to Selenium 4, the ",(0,i.jsx)(n.code,{children:"setLegacy"})," option will be shown as deprecated. We recommend\nrelying only on GeckoDriver, rather than using the old implementation.\nThe following code will show the ",(0,i.jsx)(n.code,{children:"setLegacy"})," line deprecated after upgrading."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"FirefoxOptions options = new FirefoxOptions();\noptions.setLegacy(true);\n"})}),"\n",(0,i.jsx)(n.h4,{id:"browser-interface",children:"Browser Interface"}),"\n",(0,i.jsxs)(n.p,{children:["With Selenium 4, the ",(0,i.jsx)(n.code,{children:"BrowserType"})," interface will be deprecated and replaced by the new ",(0,i.jsx)(n.code,{children:"Browser"})," interface."]}),"\n",(0,i.jsxs)(t.A,{defaultValue:"Selenium 4",values:[{label:"Selenium 4",value:"Selenium 4"},{label:"Legacy",value:"Legacy"}],children:[(0,i.jsx)(l.A,{value:"Selenium 4",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'MutableCapabilities capabilities = new MutableCapabilities();\ncapabilities.setCapability("browserVersion", "92");\ncapabilities.setCapability("browserName", Browser.FIREFOX);\n'})})}),(0,i.jsx)(l.A,{value:"Legacy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'MutableCapabilities capabilities = new MutableCapabilities();\ncapabilities.setCapability("browserVersion", "92");\ncapabilities.setCapability("browserName", BrowserType.FIREFOX);\n'})})})]}),"\n",(0,i.jsx)(n.h4,{id:"addadditionaloption",children:"AddAdditionalOption"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("span",{className:"sauceGreen",children:(0,i.jsx)("small",{children:"C# only"})})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsxs)(n.a,{href:"https://www.selenium.dev/selenium/docs/api/dotnet/html/M_OpenQA_Selenium_DriverOptions_AddAdditionalCapability.htm",children:[(0,i.jsx)(n.code,{children:"AddAdditionalCapability"})," capability"]})," is deprecated in Selenium 4. Instead, we recommend using ",(0,i.jsx)(n.code,{children:"AddAdditionalOption"}),"."]}),"\n",(0,i.jsxs)(t.A,{defaultValue:"Selenium 4",values:[{label:"Selenium 4",value:"Selenium 4"},{label:"Legacy",value:"Legacy"}],children:[(0,i.jsx)(l.A,{value:"Selenium 4",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'var browserOptions = new ChromeOptions();\nbrowserOptions.PlatformName = "Windows 10";\nbrowserOptions.BrowserVersion = "latest";\nvar sauceOptions = new Dictionary<string, object>();\nbrowserOptions.AddAdditionalOption("sauce:options", sauceOptions);\n'})})}),(0,i.jsx)(l.A,{value:"Legacy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'var browserOptions = new ChromeOptions();\nbrowserOptions.PlatformName = "Windows 10";\nbrowserOptions.BrowserVersion = "latest";\nvar sauceOptions = new Dictionary<string, object>();\nbrowserOptions.AddAdditionalCapability("sauce:options", sauceOptions, true);\n'})})})]}),"\n",(0,i.jsx)(n.h2,{id:"more-information",children:"More Information"}),"\n",(0,i.jsx)(n.h3,{id:"comprehensive-guide-to-s4",children:"Comprehensive Guide to S4"}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"https://saucelabs.com/selenium-4",children:"Sauce Labs | A Comprehensive Guide to Selenium 4"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"https://saucelabs.com/blog/frequently-asked-questions-about-selenium-4",children:"Frequently Asked Questions About Selenium 4"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"related-resources",children:"Related Resources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.selenium.dev/documentation/webdriver/",children:"Selenium WebDriver website"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.w3.org/TR/webdriver1/#capabilities",children:"W3C Recommendations website"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/dev/w3c-webdriver-capabilities",children:"Sauce Labs W3C WebDriver Capabilities Support"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/dev/w3c-webdriver-capabilities",children:"Sauce Labs Test Configuration Options"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://saucelabs.com/platform/platform-configurator",children:"Sauce Labs Platform Configurator"})}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},19365:(e,n,a)=>{a.d(n,{A:()=>l});a(96540);var i=a(34164);const s={tabItem:"tabItem_Ymn6"};var t=a(74848);function l(e){let{children:n,hidden:a,className:l}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,l),hidden:a,children:n})}},11470:(e,n,a)=>{a.d(n,{A:()=>w});var i=a(96540),s=a(34164),t=a(23104),l=a(56347),r=a(205),o=a(57485),c=a(31682),d=a(70679);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:a}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:a,attributes:i,default:s}}=e;return{value:n,label:a,attributes:i,default:s}}))}(a);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function m(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:a}=e;const s=(0,l.W6)(),t=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,o.aZ)(t),(0,i.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})}),[t,s])]}function g(e){const{defaultValue:n,queryString:a=!1,groupId:s}=e,t=h(e),[l,o]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=a.find((e=>e.default))??a[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:t}))),[c,u]=p({queryString:a,groupId:s}),[g,b]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,t]=(0,d.Dv)(a);return[s,(0,i.useCallback)((e=>{a&&t.set(e)}),[a,t])]}({groupId:s}),x=(()=>{const e=c??g;return m({value:e,tabValues:t})?e:null})();(0,r.A)((()=>{x&&o(x)}),[x]);return{selectedValue:l,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),b(e)}),[u,b,t]),tabValues:t}}var b=a(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=a(74848);function j(e){let{className:n,block:a,selectedValue:i,selectValue:l,tabValues:r}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,t.a_)(),d=e=>{const n=e.currentTarget,a=o.indexOf(n),s=r[a].value;s!==i&&(c(n),l(s))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=o.indexOf(e.currentTarget)+1;n=o[a]??o[0];break}case"ArrowLeft":{const a=o.indexOf(e.currentTarget)-1;n=o[a]??o[o.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":a},n),children:r.map((e=>{let{value:n,label:a,attributes:t}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>o.push(e),onKeyDown:u,onClick:d,...t,className:(0,s.A)("tabs__item",x.tabItem,t?.className,{"tabs__item--active":i===n}),children:a??n},n)}))})}function f(e){let{lazy:n,children:a,selectedValue:t}=e;const l=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===t));return e?(0,i.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function y(e){const n=g(e);return(0,v.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,v.jsx)(j,{...n,...e}),(0,v.jsx)(f,{...n,...e})]})}function w(e){const n=(0,b.A)();return(0,v.jsx)(y,{...e,children:u(e.children)},String(n))}},28453:(e,n,a)=>{a.d(n,{R:()=>l,x:()=>r});var i=a(96540);const s={},t=i.createContext(s);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);