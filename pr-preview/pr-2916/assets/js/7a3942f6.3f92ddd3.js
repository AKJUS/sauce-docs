"use strict";(self.webpackChunksauce_docs=self.webpackChunksauce_docs||[]).push([[47949],{5188:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>o});var s=t(74848),r=t(28453);t(11470),t(19365),t(86025);const i={id:"client-morgue",title:"Coroner Client - Morgue Documentation",sidebar_label:"Client Morgue",description:"Install Coroner Client Morgue."},l=void 0,a={id:"error-reporting/advanced/coroner/client-morgue",title:"Coroner Client - Morgue Documentation",description:"Install Coroner Client Morgue.",source:"@site/docs/error-reporting/advanced/coroner/client-morgue.md",sourceDirName:"error-reporting/advanced/coroner",slug:"/error-reporting/advanced/coroner/client-morgue",permalink:"/sauce-docs/pr-preview/pr-2916/error-reporting/advanced/coroner/client-morgue",draft:!1,unlisted:!1,editUrl:"https://github.com/saucelabs/sauce-docs/edit/main/docs/error-reporting/advanced/coroner/client-morgue.md",tags:[],version:"current",lastUpdatedBy:"kristofmuhi",lastUpdatedAt:1724927304e3,frontMatter:{id:"client-morgue",title:"Coroner Client - Morgue Documentation",sidebar_label:"Client Morgue",description:"Install Coroner Client Morgue."},sidebar:"backtrace",previous:{title:"Client Usage",permalink:"/sauce-docs/pr-preview/pr-2916/error-reporting/advanced/coroner/client-usage"},next:{title:"Submitting Traces to Coroner",permalink:"/sauce-docs/pr-preview/pr-2916/error-reporting/advanced/traces-coroner"}},c={},o=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Login",id:"login",level:3},{value:"Describe",id:"describe",level:3},{value:"Example",id:"example",level:4},{value:"Get",id:"get",level:3},{value:"Put",id:"put",level:3},{value:"Modify",id:"modify",level:3},{value:"Examples",id:"examples",level:4},{value:"Attachment",id:"attachment",level:3},{value:"List",id:"list",level:3},{value:"Filters",id:"filters",level:3},{value:"Pagination",id:"pagination",level:3},{value:"Aggregations",id:"aggregations",level:3},{value:"Sorting",id:"sorting",level:3},{value:"Examples",id:"examples-1",level:4},{value:"Delete Objects",id:"delete-objects",level:3},{value:"Flamegraph",id:"flamegraph",level:3},{value:"Report",id:"report",level:3},{value:"Create Report",id:"create-report",level:4},{value:"Delete Report",id:"delete-report",level:4},{value:"List Report",id:"list-report",level:4},{value:"Repair",id:"repair",level:3},{value:"Reprocess",id:"reprocess",level:3},{value:"Retention",id:"retention",level:3},{value:"Example",id:"example-1",level:4},{value:"Sampling",id:"sampling",level:3},{value:"Symbol",id:"symbol",level:3},{value:"Scrubber",id:"scrubber",level:3},{value:"Setup",id:"setup",level:3},{value:"Nuke",id:"nuke",level:3},{value:"Token",id:"token",level:3},{value:"Create Token",id:"create-token",level:4},{value:"List Token",id:"list-token",level:4},{value:"Delete Token",id:"delete-token",level:4},{value:"User",id:"user",level:3},{value:"Tenant",id:"tenant",level:3},{value:"Examples",id:"examples-2",level:4},{value:"Invite",id:"invite",level:3},{value:"Examples",id:"examples-3",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"morgue"})," is a command-line interface to the Backtrace object store. It allows you to upload, download and issue queries on objects in the object store."]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.p,{children:"It is recommended to install morgue using npm."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"npm install backtrace-morgue -g\n"})}),"\n",(0,s.jsx)(n.p,{children:"If you are working from the repository, use the following command instead."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"npm install -g\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This will install the ",(0,s.jsx)(n.code,{children:"morgue"})," tool in your configured path. Refer to the ",(0,s.jsx)(n.code,{children:"morgue --help"})," command to learn more."]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.h3,{id:"login",children:"Login"}),"\n",(0,s.jsx)(n.p,{children:"The first step to using morgue is to log in to a server."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ morgue login http://localhost\nUser: sbahra\nPassword: **************\n\nLogged in.\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now, you can issue queries."}),"\n",(0,s.jsx)(n.h3,{id:"describe",children:"Describe"}),"\n",(0,s.jsx)(n.p,{children:"Requests a list and description of all metadata that can be queried against."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"morgue describe <[/]project> [substring]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'title="Example"',children:"$ morgue describe bidder uname\n              uname.machine: machine hardware name\n              uname.release: kernel release\n              uname.sysname: kernel name\n              uname.version: kernel version\n"})}),"\n",(0,s.jsx)(n.h3,{id:"get",children:"Get"}),"\n",(0,s.jsx)(n.p,{children:"Downloads the specified object from the Backtrace object store and prints it to the standard output. Optionally, you can output the file to disk."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"morgue get <[/]project> [options] [-o]\n"})}),"\n",(0,s.jsx)(n.p,{children:"The following options are available:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--resource=name"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Fetch the specified resource rather than the object."})]})})]}),"\n",(0,s.jsx)(n.h3,{id:"put",children:"Put"}),"\n",(0,s.jsx)(n.p,{children:"Uploads object file to the Backtrace object store."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"morgue put <[/]project> <--format=btt|minidump|json|symbols> [options]\n"})}),"\n",(0,s.jsx)(n.p,{children:"User has the following options:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.code,{children:"--compression=gzip"})," ",(0,s.jsx)(n.code,{children:"--compression=deflate"})]}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Uploaded file is compressed."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--kv=key1:value1,key2:value2,... "})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Upload key-values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--form_data"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Upload file by multipart/form-data post request."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"modify",children:"Modify"}),"\n",(0,s.jsx)(n.p,{children:"Modifies the attributes of the given object as specified. Both options below may be specified more than once."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue modify <[universe/]project> (| ...) [--set ...] [--clear ...]\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--set"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Set the given attribute=value pair."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--clear"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Clear the given attribute."})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["You can also modify multiple objects by specifying filters. The ",(0,s.jsx)(n.code,{children:"--filter"}),", ",(0,s.jsx)(n.code,{children:"--age"}),", and ",(0,s.jsx)(n.code,{children:"--time"})," arguments are accepted for modification."]}),"\n",(0,s.jsx)(n.h4,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Set hostname to fqdn.example.com for object identifier 0:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'title="Example"',children:"$ morgue modify --set hostname=fqdn.example.com myproject 0\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Set custom attribute reason to oom for all crashes containing memory_abort:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'title="Example"',children:"$ morgue modify --set reason=oom --filter=callstack,regular-expression,memory_abort\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"attachment",children:"Attachment"}),"\n",(0,s.jsx)(n.p,{children:"Manages attachments associated with an object."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue attachment add [options] <[universe/]project>\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--content-type=CT"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify Content-Type for attachment. The server may auto-detect this."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--attachment-name=N"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Use this name for the attachment name. Default is the same as the filename."})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue attachment get [options] <[universe/]project>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Must specify one of the following options:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--attachment-id=ID"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Attachment ID to get."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--attachment-name=N"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Attachment name to get."})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue attachment list [options] <[universe/]project>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue attachment delete [options] <[universe/]project\n"})}),"\n",(0,s.jsx)(n.p,{children:"Must specify one of the following options:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--attachment-id=ID"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Attachment ID to delete."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--attachment-name=N"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Attachment name to get."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"list",children:"List"}),"\n",(0,s.jsxs)(n.p,{children:["Allows you to perform queries on object metadata. You can perform either selection queries or aggregation queries, but not both at the same time. You may pass ",(0,s.jsx)(n.code,{children:"--verbose"})," in order to get more detailed query performance data."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue list <[/]project> [substring]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"filters",children:"Filters"}),"\n",(0,s.jsx)(n.p,{children:"The filter option expects a comma-delimited list of the form ."}),"\n",(0,s.jsxs)(n.p,{children:["The currently supported operations are ",(0,s.jsx)(n.code,{children:"equal"}),", ",(0,s.jsx)(n.code,{children:"regular-expression"}),", ",(0,s.jsx)(n.code,{children:"inverse-regular-expression"}),", ",(0,s.jsx)(n.code,{children:"at-least"}),", ",(0,s.jsx)(n.code,{children:"greater-than"}),", ",(0,s.jsx)(n.code,{children:"at-most"}),", ",(0,s.jsx)(n.code,{children:"less-than"}),", ",(0,s.jsx)(n.code,{children:"contains"}),", ",(0,s.jsx)(n.code,{children:"not-contains"}),", ",(0,s.jsx)(n.code,{children:"is-set"}),", and ",(0,s.jsx)(n.code,{children:"is-not-set"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"pagination",children:"Pagination"}),"\n",(0,s.jsx)(n.p,{children:"Pagination is handled with two flags:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--limit="})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Controls the number of returned rows."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--offset="})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Controls the offset at which rows are returned, which means it skips the first rows."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"aggregations",children:"Aggregations"}),"\n",(0,s.jsxs)(n.p,{children:["Aggregation is expressed through a myriad of command-line options that express different aggregation operations. Options are of the form ",(0,s.jsx)(n.code,{children:"--="}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"*"})," factor is used when aggregations are performed when no factor is specified or if an object does not have a valid value associated with the factor."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--age"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify a relative timestamp to now. For example, 1h ago or 1d ago."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--time "})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify a range using Chrono."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--unique"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Provide a count of distinct values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--histogram "})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Provide all distinct values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--distribution"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Provide a truncated histogram."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--mean"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Calculate the mean of a column."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--sum"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Sum all values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--range"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Provide the minimum and maximum values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--count"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Count all non-null values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--bin"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Provide a linear histogram of values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--head"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Provide the first value in a factor."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--tail"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Provide the last value in a factor."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--object "})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Provide the maximum object identifier of a column."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"sorting",children:"Sorting"}),"\n",(0,s.jsxs)(n.p,{children:["Sorting of results is done with the stackable option ",(0,s.jsx)(n.code,{children:"--sort="}),". The term syntax is ",(0,s.jsx)(n.code,{children:"-"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The optional ",(0,s.jsx)(n.code,{children:"-"})," reverses the sort term order to descending, otherwise, it defaults to ascending.\nThe term refers to a valid column in the table. This is only effective for selection type query, that is, when using the ",(0,s.jsx)(n.code,{children:"--select"})," option.\nThe is an expression pointing to a fold operation. The expression language for fold operation is one of the following literal:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:";group"}),": sort by the group key itself."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:";count"}),": sort by the group count (number of crashes)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"column;idx"}),": where column is a string referencing a ",(0,s.jsx)(n.code,{children:"column"})," in the fold dictionary and ",(0,s.jsx)(n.code,{children:"idx"})," is an indice in the array.\nMultiple sort terms can be provided to break ties in case the previously referenced sort term has ties."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"examples-1",children:"Examples"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Request all faults from application deployments owned by jdoe. Provide the timestamp, hostname, callstack and classifiers."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ morgue list bidder --filter=tag_owner,equal,jdoe --select=timestamp --select=hostname --select=callstack --select=classifiers\n*\n#9d33    Thu Oct 13 2016 18:36:01 GMT-0400 (EDT)     5 months ago\nhostname: 2235.bm-bidderc.prod.nym2\nclassifiers: abort stop\ncallstack:\n    assert \u2190 int_set_union_all \u2190 all_domain_lists \u2190\n    setup_phase_unlocked \u2190 bid_handler_slave_inner \u2190 bid_handler_slave \u2190\n    an_sched_process_task \u2190 an_sched_slave \u2190 event_base_loop \u2190\n    an_sched_enter \u2190 bidder_slave \u2190 an_sched_pthread_cb\n#ef2f    Thu Oct 13 2016 18:36:01 GMT-0400 (EDT)     5 months ago\nhostname: 2066.bm-impbus.prod.nym2\nclassifiers: abort stop\ncallstack:\n    assert \u2190 an_discovery_get_instances \u2190 budget_init_discovery \u2190\n    main\n#119bf   Thu Oct 13 2016 18:36:01 GMT-0400 (EDT)     5 months ago\nhostname: 2066.bm-impbus.prod.nym2\nclassifiers: abort stop\ncallstack:\n    assert \u2190 an_discovery_get_instances \u2190 budget_init_discovery \u2190\n    main\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Request faults owned by jdoe, group them by fingerprint and aggregate the number of unique hosts, display a histogram of affected versions and provide a linear histogram of process age distribution."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ morgue list bidder --age=1y --factor=fingerprint --filter=tag_owner,equal,jdoe --head=callstack --unique=hostname --histogram=tag --bin=process.age\n823a55fb15bf697ba3041d736ade... \u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 5 months ago\nDate: Wed May 18 2016 18:44:35 GMT-0400 (EDT)\ncallstack:\n    assert \u2190 int_set_union_all \u2190 all_domain_lists \u2190\n    setup_phase_unlocked \u2190 bid_handler_slave_inner \u2190 bid_handler_slave \u2190\n    an_sched_process_task \u2190 an_sched_slave \u2190 event_base_loop \u2190\n    an_sched_enter \u2190 bidder_slave \u2190 an_sched_pthread_cb\nhistogram(tag):\n8.20.4.adc783.0 \u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586 1\nunique(hostname): 1\nbin(process.age):\n        7731         7732 \u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586 1\n\n3b851ac1ab1421409159cc38edb2... \u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 5 months ago\nDate: Tue May 17 2016 17:28:26 GMT-0400 (EDT)\n    Tue May 17 2016 17:30:07 GMT-0400 (EDT)\ncallstack:\n    assert \u2190 an_discovery_get_instances \u2190 budget_init_discovery \u2190\n    main\nhistogram(tag):\n4.44.0.adc783.1 \u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586 2\nunique(hostname): 1\nbin(process.age):\n            23           24 \u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586 1\n            24           25 \u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586\u2586 1\n\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Request faults for the last 2 years, group them by fingerprint, show the first object identifier in the group, sort the results by descending fingerprint, limit the results to 5 faults and skip the first 10 (according to sort order)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'$ morgue list blackhole --age=2y --factor=fingerprint --object=fingerprint --limit=5 --offset=10 --sort="-;group"\nfec4bfecf8e077cf44024f5668fa... \u2581\u2581\u2581\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 2 years ago\nFirst Occurrence: Tue Jan 12 2016 13:30:12 GMT-0500 (EST)\n    Occurrences: 360\nobject(fingerprint): 1c653d\n\nfe7294a780a16e30b619e8d94a8a... \u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 2 years ago\nFirst Occurrence: Wed Oct 28 2015 11:30:47 GMT-0400 (EDT)\nLast Occurrence: Wed Oct 28 2015 12:16:19 GMT-0400 (EDT)\n    Occurrences: 203\nobject(fingerprint): 1c23b3\n\nfe5e0dda6cf0fb996a521dde4087... \u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 1 year ago\nFirst Occurrence: Tue Jun 14 2016 11:54:35 GMT-0400 (EDT)\n    Occurrences: 1\nobject(fingerprint): 2de5\n\nfe46d9af7c65c084091fed51ef02... \u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 2 years ago\nFirst Occurrence: Tue Oct 27 2015 16:59:34 GMT-0400 (EDT)\nLast Occurrence: Tue Oct 27 2015 20:05:30 GMT-0400 (EDT)\n    Occurrences: 3\nobject(fingerprint): 8f41\n\nfdc0860ef6dfd3d0397b53043ab9... \u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 1 year ago\nFirst Occurrence: Tue Jun 07 2016 11:51:55 GMT-0400 (EDT)\n    Occurrences: 211\nobject(fingerprint): 1c1958\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Request faults for the two years, group them by fingerprint, sum process.age, sort the results by descending sum of process.age per fingerprint, limit the results to 3 faults. Note here that 1 in -process.age;1 is the second operator (--sum) in this case."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'$ morgue list blackhole --age=2y --factor=fingerprint --first=process.age --sum=process.age --limit=3 --sort="-process.age;1"\nd9358a6fdb7eaa143254b6987d00... \u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 1 year ago\nFirst Occurrence: Tue Sep 20 2016 21:59:46 GMT-0400 (EDT)\nLast Occurrence: Tue Sep 20 2016 22:03:23 GMT-0400 (EDT)\n    Occurrences: 38586\nsum(process.age): 56892098354615 sec\n\n524b9f988c8ff9dfc1b3a0c71231... \u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 1 year ago\nFirst Occurrence: Tue Sep 20 2016 22:01:52 GMT-0400 (EDT)\nLast Occurrence: Tue Sep 20 2016 22:03:19 GMT-0400 (EDT)\n    Occurrences: 25737\nsum(process.age): 37947233900547 sec\n\nbffd05c6b745229fd1c648bbe2a7... \u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581 1 year ago\nFirst Occurrence: Tue Sep 20 2016 21:59:46 GMT-0400 (EDT)\nLast Occurrence: Tue Sep 20 2016 22:03:01 GMT-0400 (EDT)\n    Occurrences: 20096\nsum(process.age): 29630010305216 sec\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"delete-objects",children:"Delete Objects"}),"\n",(0,s.jsx)(n.p,{children:"Allows deleting objects."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue delete <[universe/]project> [... oidN]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"object_id"})," parameter specifies the ID(s) of the objects to be deleted. Object IDs can be found in the output of the ",(0,s.jsx)(n.code,{children:"morgue list"})," command. For example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ morgue list\nObject ID: 9d33\n...\n\n$ morgue delete 9d33\n"})}),"\n",(0,s.jsx)(n.p,{children:"The following options support partial deletes:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--physical-only"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Only delete the physical object; retain indexing."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--crdb-only"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Only delete the indexed data; requires physically deleted objects."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"flamegraph",children:"Flamegraph"}),"\n",(0,s.jsx)(n.p,{children:"Generate a flamegraph of call stacks of objects matching specified filter criteria."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"morgue flamegraph [--filter=] [--reverse] [--unique] [-o file.svg]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--filter"})," option is used to specify filter criteria for selecting objects. The ",(0,s.jsx)(n.code,{children:"--filter"})," option behaves identically to the ",(0,s.jsx)(n.code,{children:"morgue list"})," sub-command. This functionality requires Perl to be installed. For more information about flamegraphs, see ",(0,s.jsx)(n.a,{href:"http://www.brendangregg.com/flamegraphs.html",children:"Flamegraphs"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--unique"})," option samples only unique crashes, while the ",(0,s.jsx)(n.code,{children:"--reverse"})," option begins sampling from leaf functions."]}),"\n",(0,s.jsx)(n.h3,{id:"report",children:"Report"}),"\n",(0,s.jsx)(n.p,{children:"Create and manage scheduled reports."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue report [--project=...] [--universe=...]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"create-report",children:"Create Report"}),"\n",(0,s.jsx)(n.p,{children:"Create a new scheduled report."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue report create\n  <--rcpt=...>\n  <--title=...>\n  [--filter=...]\n  [--fingerprint=...]\n  [--histogram=...]\n  [--hour=...]\n  [--day=...]\n  --period=\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'title="Example"',children:'$ morgue report MyProject create --rcpt=null@backtrace.io\n    --rcpt=list@backtrace.io --filter=environment,equal,prod\n    --title="Production Crashes weekly" --period=week\n'})}),"\n",(0,s.jsx)(n.h4,{id:"delete-report",children:"Delete Report"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"morgue report delete\n"})}),"\n",(0,s.jsx)(n.h4,{id:"list-report",children:"List Report"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"morgue report list\n"})}),"\n",(0,s.jsx)(n.h3,{id:"repair",children:"Repair"}),"\n",(0,s.jsx)(n.p,{children:"This command repairs the attribute database for a project. It reprocesses the affected objects (if possible) for each corrupted page of the database. Once completed successfully, the database transitions into normal mode."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue repair <[universe/]project>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"reprocess",children:"Reprocess"}),"\n",(0,s.jsx)(n.p,{children:"Reprocess the objects in a project."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue reprocess <[universe/]project> [| ...] [--first N] [--last N]\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--first=N"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify the first object ID (default: earliest known)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--last=N"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify the last object ID (default: most recent known)."})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["This command can be used to re-execute indexing, fingerprinting, and symbolification (where needed) for the objects in a project. If a set of objects or a query is specified, the ",(0,s.jsx)(n.code,{children:"--first"})," and ",(0,s.jsx)(n.code,{children:"--last"})," options are replaced to match the object list. If no query, object list, or range is provided, all objects in the project are reprocessed."]}),"\n",(0,s.jsx)(n.h3,{id:"retention",children:"Retention"}),"\n",(0,s.jsx)(n.p,{children:"Configure the retention policy for a given namespace, which can cover the coroner instance, or a specific universe or project."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue retention [options]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"morgue retention"})," command without any additional parameters lists the available commands for managing the retention policy."]}),"\n",(0,s.jsx)(n.p,{children:"Options for set/clear:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--type=T "})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Specify retention type (default: project) valid: ",(0,s.jsx)(n.code,{children:"instance"}),", ",(0,s.jsx)(n.code,{children:"universe"}),", ",(0,s.jsx)(n.code,{children:"project"})]})]})})]}),"\n",(0,s.jsx)(n.p,{children:"Options for status:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"[--type= ]"}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]})})]}),"\n",(0,s.jsx)(n.p,{children:"Options for set:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--max-age=N"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify time limit for objects, in seconds."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--physical-only"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specifies that the policy only delete physical copies; indexing will be retained."})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"example-1",children:"Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'title="Example"',children:"$ morgue retention clear a_project\nsuccess\n$ morgue retention set blackhole --max-age=3600\n$ morgue retention list\nProject-level:\n  blackhole: max age: 1h\n$\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sampling",children:"Sampling"}),"\n",(0,s.jsxs)(n.p,{children:["Retrieve the object sampling status, or reset it. Project is a required flag if ",(0,s.jsx)(n.code,{children:"fingerprint"})," is specified."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue sampling [options]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--fingerprint"})," option specifies the fingerprint of the object to retrieve the sampling status for. The ",(0,s.jsx)(n.code,{children:"--project"})," option is required if ",(0,s.jsx)(n.code,{children:"--fingerprint"})," is specified."]}),"\n",(0,s.jsx)(n.p,{children:"Options for either status or reset:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--fingerprint=group"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify a fingerprint to apply to. Without this, applies to all."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--project=[universe/]project"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify a project to apply to. Without this, applies to all."})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Options for status only:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--max-groups=N"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify max number of groups to display per project."})]})})]}),"\n",(0,s.jsx)(n.h3,{id:"symbol",children:"Symbol"}),"\n",(0,s.jsx)(n.p,{children:"Retrieve a list of uploaded symbols or symbol archives."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue symbol <[/]project> [summary | list | missing | archives] [-o ]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["By default, ",(0,s.jsx)(n.code,{children:"morgue symbol"})," will return a summary of uploaded archives, available symbols, and missing symbols."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If ",(0,s.jsx)(n.code,{children:"archives"})," is used, a list of uploaded symbols, in-process symbols, and symbol processing errors will be outputted."]}),"\n",(0,s.jsxs)(n.li,{children:["If ",(0,s.jsx)(n.code,{children:"list"})," is used, a list of uploaded symbols will be returned."]}),"\n",(0,s.jsxs)(n.li,{children:["If ",(0,s.jsx)(n.code,{children:"missing"})," is used, the set of missing symbols for the project will be included."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"scrubber",children:"Scrubber"}),"\n",(0,s.jsx)(n.p,{children:"Create, modify, and delete data scrubbers."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue scrubber\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"morgue scrubber"})," command without any additional parameters lists the available commands for managing data scrubbers."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Option"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--name"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify the name of the scrubber."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--regexp"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Specify the pattern to match and scrub."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--builtin"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Specify a built-in scrubber (",(0,s.jsx)(n.code,{children:"ssn"}),", ",(0,s.jsx)(n.code,{children:"ccn"}),", ",(0,s.jsx)(n.code,{children:"key"}),", and ",(0,s.jsx)(n.code,{children:"env"})," are currently supported for social security number, credit card number, encryption key, and environment variable). If ",(0,s.jsx)(n.code,{children:"--builtin=all"})," is used, all supported built-in scrubbers are created."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"--enable"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Activate the scrubber (use ",(0,s.jsx)(n.code,{children:"0"})," to disable the scrubber)."]})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--regexp"})," and ",(0,s.jsx)(n.code,{children:"--builtin"})," options are mutually exclusive."]}),"\n",(0,s.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,s.jsx)(n.p,{children:"Configure the initial organization and user for an on-premise version of coronerd."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue setup\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If you are using an on-premise version of coronerd, use the ",(0,s.jsx)(n.code,{children:"morgue setup"})," command to configure the initial organization and user. Replace ",(0,s.jsx)(n.code,{children:"<coronerd_url>"})," with the URL of your coronerd server. For example, if the server is ",(0,s.jsx)(n.code,{children:"backtrace.mycompany.com"}),", you would run:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue setup http://backtrace.mycompany.com\n"})}),"\n",(0,s.jsx)(n.p,{children:"We recommend resetting your password after enabling SSL (done by configuring your certificates)."}),"\n",(0,s.jsx)(n.h3,{id:"nuke",children:"Nuke"}),"\n",(0,s.jsx)(n.p,{children:"Delete an object and all its dependencies."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue nuke --universe= [--project=]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Use this command to nuke an object and all its dependencies. Make sure to back up your data before using this command."}),"\n",(0,s.jsx)(n.h3,{id:"token",children:"Token"}),"\n",(0,s.jsx)(n.p,{children:"Manage API tokens for authentication and authorization."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue token [create | list | delete] [--project=...] [--universe=...]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"morgue token"})," command without any additional parameters lists the available commands for managing API tokens."]}),"\n",(0,s.jsx)(n.h4,{id:"create-token",children:"Create Token"}),"\n",(0,s.jsx)(n.p,{children:"Create a new API token."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue token create --project=<project>\n    [--capability=<capability> ...]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--capability"})," option specifies the capabilities of the API token. Multiple capabilities can be specified by using the ",(0,s.jsx)(n.code,{children:"--capability"})," option multiple times or by using a comma-separated list. Valid capabilities include:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"symbol:post"}),": Enable symbol uploads with the specified API token."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"error:post"}),": Enable error and dump submission with the specified API token."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"query:post"}),": Enable queries to be issued using the specified token."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"list-token",children:"List Token"}),"\n",(0,s.jsx)(n.p,{children:"Lists the API tokens in the specified universe or project."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue token list [--universe=<universe>] [--project=<project>]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"delete-token",children:"Delete Token"}),"\n",(0,s.jsx)(n.p,{children:"Deletes the specified token by substring or exact match."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue token delete\n"})}),"\n",(0,s.jsx)(n.h3,{id:"user",children:"User"}),"\n",(0,s.jsx)(n.p,{children:"Modify users."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"morgue user reset [--universe=<universe>] [--user=<user>] [--password=<password>]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Currently, it can only be used to reset user passwords. If the ",(0,s.jsx)(n.code,{children:"--user"})," or ",(0,s.jsx)(n.code,{children:"--password"})," options are not specified, the command will prompt for the user and password."]}),"\n",(0,s.jsx)(n.h3,{id:"tenant",children:"Tenant"}),"\n",(0,s.jsx)(n.p,{children:"Create isolated tenants for receiving error data and logging in. Tenants provide namespace isolation. Users in one tenant are unable to interact with any objects outside of their tenant. This is an enterprise feature and not enabled by default for self-serve customers. The tenant commands require superuser access."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"morgue tenant [create | list | delete]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"morgue tenant"})," command without any additional parameters lists the available commands for managing tenants."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"morgue tenant create"}),": Create a tenant with the specified name"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"morgue tenant delete"}),": Delete a tenant with the specified name."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"morgue tenant list"}),": List all tenants on your instance."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"examples-2",children:"Examples"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Create a Tenant"}),"\n",(0,s.jsx)(n.p,{children:"After logging into an object store as a superuser, use the following command to create a tenant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ morgue tenant create <tenant_name>\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command creates a tenant with the specified name and provides the URL for the newly created tenant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Tenant successfully created at https://<tenant_name>.sp.backtrace.io\nWait a few minutes for propagation to complete.\n"})}),"\n",(0,s.jsx)(n.p,{children:'Tenants are required to be contained within the same TLD. For example, a tenant with the name "X" is expected to be contained in "X.sp.backtrace.io".'}),"\n",(0,s.jsxs)(n.p,{children:["After creating a tenant, you will likely need to invite an initial administrator user for the tenant. For that, refer to the ",(0,s.jsx)(n.code,{children:"invite"})," sub-command listed below. To invite an administrator to a specific tenant, use the ",(0,s.jsx)(n.code,{children:"--tenant"})," option."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Delete a Tenant"}),"\n",(0,s.jsx)(n.p,{children:"After logging into an object store as a superuser, use the following command to delete a tenant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ morgue tenant delete <tenant_name>\nTenant successfully deleted.\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"This is a destructive command from a configuration perspective. Unless you have backups, there is no way to restore your configuration data."})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"List Tenants"}),"\n",(0,s.jsx)(n.p,{children:"Use the following command to list existing tenants:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ morgue tenant list\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command lists the ID, tenant name, and URL for each tenant."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ID Tenant               URL\n1 test                 https://test.sp.backtrace.io\n4 test1                https://test1.sp.backtrace.io\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"invite",children:"Invite"}),"\n",(0,s.jsx)(n.p,{children:"Invite new users into your system. Requires you to have logged in."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'morgue invite\n  create\n    --role=<"guest" | "member" | "admin">\n    --metadata=\n    --tenant=\n    --method=<"password" | "saml" | "pam">\n  delete\n  resend\n'})}),"\n",(0,s.jsx)(n.h4,{id:"examples-3",children:"Examples"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Invite a User"}),"\n",(0,s.jsx)(n.p,{children:"To invite a new user into the currently logged-in tenant, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ morgue invite create user user@gmail.com\nInvitation successfully created for user@backtrace.io\nSending e-mail...done\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command invites a new user with the specified email address. The default settings for the user are to use password authentication and have a member role."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Invite a User as an Administrator"}),"\n",(0,s.jsxs)(n.p,{children:["To invite a user as an administrator, use the ",(0,s.jsx)(n.code,{children:"--role=admin"})," option:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ morgue invite create user <user_email> --role=admin\nInvitation successfully created for user@backtrace.io\nSending e-mail...done\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Invite a User into a Particular Tenant"}),"\n",(0,s.jsxs)(n.p,{children:["To invite a user into a specific tenant, use the ",(0,s.jsx)(n.code,{children:"--tenant=<tenant_name>"})," option:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ morgue invite create user <user_email> --tenant=<tenant_name>\nInvitation successfully created for <user_email>\nSending e-mail...done\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"List Pending Invitations"}),"\n",(0,s.jsx)(n.p,{children:"To list invitations that have not been accepted or activated, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ morgue invite list\nTenant             Username   Method     Role                          Email Token\n    1              ashley2 password    admin          ashley2@backtrace.io f892200fa564...\n    1                jack1 password   member            jack@backtrace.io 39c1b80a7e00...\n    1                jack2 password   member          jack+2@backtrace.io c399bdf23873...\n    1            jack17131 password   member       jack+4512@backtrace.io 784d2a8ffe12...\n    1            jack25262 password   member      jack+24688@backtrace.io 97e306d3373a...\n    1            jack25629 password   member      jack+28155@backtrace.io ed02ceea2ba4...\n    1            jack28000 password   member       jack+3644@backtrace.io 3f87906bd5d9...\n    1            jack19468 password   member      jack+28771@backtrace.io 3c6b3a3aaf41...\n    1            jack15686 password   member       jack+4203@backtrace.io 78bd9cd127a8...\n    4             jack2268 password   member      jack+19325@backtrace.io 776c6d389f89...\n    4            jack20597 password   member      jack+24692@backtrace.io 48972737a85e...\n    4             jack4803 password   member      jack+30407@backtrace.io 4943913c86f3...\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command lists the tenant, username, method, role, email, and token for each pending invitation."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Delete an Invitation"}),"\n",(0,s.jsx)(n.p,{children:"To delete an invitation, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ morgue invite delete <token>\nInvitation successfully deleted.\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command deletes the invitation with the specified token or unique substring."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},19365:(e,n,t)=>{t.d(n,{A:()=>l});t(96540);var s=t(34164);const r={tabItem:"tabItem_Ymn6"};var i=t(74848);function l(e){let{children:n,hidden:t,className:l}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,l),hidden:t,children:n})}},11470:(e,n,t)=>{t.d(n,{A:()=>A});var s=t(96540),r=t(34164),i=t(23104),l=t(56347),a=t(205),c=t(57485),o=t(31682),d=t(70679);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:t,attributes:s,default:r}}=e;return{value:n,label:t,attributes:s,default:r}}))}(t);return function(e){const n=(0,o.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function x(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:t}=e;const r=(0,l.W6)(),i=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,c.aZ)(i),(0,s.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(r.location.search);n.set(i,e),r.replace({...r.location,search:n.toString()})}),[i,r])]}function j(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,i=u(e),[l,c]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!x({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=t.find((e=>e.default))??t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:i}))),[o,h]=p({queryString:t,groupId:r}),[j,m]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,i]=(0,d.Dv)(t);return[r,(0,s.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:r}),g=(()=>{const e=o??j;return x({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{g&&c(g)}),[g]);return{selectedValue:l,selectValue:(0,s.useCallback)((e=>{if(!x({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),h(e),m(e)}),[h,m,i]),tabValues:i}}var m=t(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=t(74848);function b(e){let{className:n,block:t,selectedValue:s,selectValue:l,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),d=e=>{const n=e.currentTarget,t=c.indexOf(n),r=a[t].value;r!==s&&(o(n),l(r))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:i}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>c.push(e),onKeyDown:h,onClick:d,...i,className:(0,r.A)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":s===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:i}=e;const l=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===i));return e?(0,s.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function v(e){const n=j(e);return(0,f.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(y,{...n,...e})]})}function A(e){const n=(0,m.A)();return(0,f.jsx)(v,{...e,children:h(e.children)},String(n))}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var s=t(96540);const r={},i=s.createContext(r);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);